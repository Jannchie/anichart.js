!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("fs"),require("canvas")):"function"==typeof define&&define.amd?define(["fs","canvas"],e):"object"==typeof exports?exports.anichart=e(require("fs"),require("canvas")):t.anichart=e(t.fs,t.canvas)}(this,(function(t,e){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=94)}([function(t,e,r){"use strict";var n=Array.isArray;e.a=n},function(t,e,r){"use strict";var n=r(39),i="object"==typeof self&&self&&self.Object===Object&&self,o=n.a||i||Function("return this")();e.a=o},function(t,e,r){"use strict";e.a=function(t){return null!=t&&"object"==typeof t}},function(t,e,r){"use strict";e.a=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,r){"use strict";var n=r(1).a.Symbol;e.a=n},function(t,e,r){"use strict";var n,i=r(24),o=r(1).a["__core-js_shared__"],a=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";var u=function(t){return!!a&&a in t},s=r(3),c=r(15),f=/^\[object .+?Constructor\]$/,l=Function.prototype,h=Object.prototype,p=l.toString,g=h.hasOwnProperty,d=RegExp("^"+p.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var v=function(t){return!(!Object(s.a)(t)||u(t))&&(Object(i.a)(t)?d:f).test(Object(c.a)(t))};var y=function(t,e){return null==t?void 0:t[e]};e.a=function(t,e){var r=y(t,e);return v(r)?r:void 0}},function(t,e,r){"use strict";var n=r(4),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,u=n.a?n.a.toStringTag:void 0;var s=function(t){var e=o.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var i=a.call(t);return n&&(e?t[u]=r:delete t[u]),i},c=Object.prototype.toString;var f=function(t){return c.call(t)},l=n.a?n.a.toStringTag:void 0;e.a=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":l&&l in Object(t)?s(t):f(t)}},function(t,e,r){"use strict";var n=r(24),i=r(26);e.a=function(t){return null!=t&&Object(i.a)(t.length)&&!Object(n.a)(t)}},function(t,e,r){"use strict";e.a=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,r){"use strict";var n=r(44),i=r(28);e.a=function(t,e,r,o){var a=!r;r||(r={});for(var u=-1,s=e.length;++u<s;){var c=e[u],f=o?o(r[c],t[c],c,r,t):void 0;void 0===f&&(f=t[c]),a?Object(i.a)(r,c,f):Object(n.a)(r,c,f)}return r}},function(t,e,r){"use strict";var n=r(13);e.a=function(t){return(t=Object(n.b)(Math.abs(t)))?t[1]:NaN}},function(t,e,r){"use strict";var n=r(16);var i=function(){this.__data__=new n.a,this.size=0};var o=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var a=function(t){return this.__data__.get(t)};var u=function(t){return this.__data__.has(t)},s=r(18),c=r(19);var f=function(t,e){var r=this.__data__;if(r instanceof n.a){var i=r.__data__;if(!s.a||i.length<199)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new c.a(i)}return r.set(t,e),this.size=r.size,this};function l(t){var e=this.__data__=new n.a(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=u,l.prototype.set=f;e.a=l},function(t,e,r){"use strict";(function(t){var n=r(1),i=r(58),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===o?n.a.Buffer:void 0,s=(u?u.isBuffer:void 0)||i.a;e.a=s}).call(this,r(49)(t))},function(t,e,r){"use strict";function n(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}r.d(e,"b",(function(){return n})),e.a=function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}},function(t,e,r){"use strict";(function(t){var n=r(39),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&n.a.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();e.a=u}).call(this,r(49)(t))},function(t,e,r){"use strict";var n=Function.prototype.toString;e.a=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,r){"use strict";var n=function(){this.__data__=[],this.size=0},i=r(8);var o=function(t,e){for(var r=t.length;r--;)if(Object(i.a)(t[r][0],e))return r;return-1},a=Array.prototype.splice;var u=function(t){var e=this.__data__,r=o(e,t);return!(r<0)&&(r==e.length-1?e.pop():a.call(e,r,1),--this.size,!0)};var s=function(t){var e=this.__data__,r=o(e,t);return r<0?void 0:e[r][1]};var c=function(t){return o(this.__data__,t)>-1};var f=function(t,e){var r=this.__data__,n=o(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=u,l.prototype.get=s,l.prototype.has=c,l.prototype.set=f;e.a=l},function(t,e,r){"use strict";var n=r(46),i=r(3),o=r(32);var a=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},u=Object.prototype.hasOwnProperty;var s=function(t){if(!Object(i.a)(t))return a(t);var e=Object(o.a)(t),r=[];for(var n in t)("constructor"!=n||!e&&u.call(t,n))&&r.push(n);return r},c=r(7);e.a=function(t){return Object(c.a)(t)?Object(n.a)(t,!0):s(t)}},function(t,e,r){"use strict";var n=r(5),i=r(1),o=Object(n.a)(i.a,"Map");e.a=o},function(t,e,r){"use strict";var n=r(5),i=Object(n.a)(Object,"create");var o=function(){this.__data__=i?i(null):{},this.size=0};var a=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},u=Object.prototype.hasOwnProperty;var s=function(t){var e=this.__data__;if(i){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return u.call(e,t)?e[t]:void 0},c=Object.prototype.hasOwnProperty;var f=function(t){var e=this.__data__;return i?void 0!==e[t]:c.call(e,t)};var l=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this};function h(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}h.prototype.clear=o,h.prototype.delete=a,h.prototype.get=s,h.prototype.has=f,h.prototype.set=l;var p=h,g=r(16),d=r(18);var v=function(){this.size=0,this.__data__={hash:new p,map:new(d.a||g.a),string:new p}};var y=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var m=function(t,e){var r=t.__data__;return y(e)?r["string"==typeof e?"string":"hash"]:r.map};var b=function(t){var e=m(this,t).delete(t);return this.size-=e?1:0,e};var w=function(t){return m(this,t).get(t)};var x=function(t){return m(this,t).has(t)};var _=function(t,e){var r=m(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function j(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}j.prototype.clear=v,j.prototype.delete=b,j.prototype.get=w,j.prototype.has=x,j.prototype.set=_;e.a=j},function(t,e,r){"use strict";var n=r(6),i=r(2);var o=function(t){return Object(i.a)(t)&&"[object Arguments]"==Object(n.a)(t)},a=Object.prototype,u=a.hasOwnProperty,s=a.propertyIsEnumerable,c=o(function(){return arguments}())?o:function(t){return Object(i.a)(t)&&u.call(t,"callee")&&!s.call(t,"callee")};e.a=c},function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return u}));var n=r(33),i=r.n(n),o=r(61);const a=Object(o.createFFmpeg)({log:!0});async function u(e,r,n,o=16){await a.load();let u=i.a.readdirSync(e);for(let t of u)await a.write(t,`${e}${t}`);await a.run(`-r ${n} -threads ${o} -i ${r}-%d.png -c:v libx264 -preset ultrafast -tune animation ${r}.mp4`);const s=await a.read(r+".mp4");i.a.writeFileSync(r+".mp4",s),t.exit(0)}}).call(this,r(23))},function(t,e,r){"use strict";function n(){}var i=function(t){return null==t?n:function(){return this.querySelector(t)}},o=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)};function a(){return[]}function u(t){return function(e){return e.matches(t)}}var s=Array.prototype.find;function c(){return this.firstElementChild}var f=Array.prototype.filter;function l(){return this.children}var h=function(t){return new Array(t.length)};function p(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}p.prototype={constructor:p,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var g=function(t){return function(){return t}};function d(t,e,r,n,i,o){for(var a,u=0,s=e.length,c=o.length;u<c;++u)(a=e[u])?(a.__data__=o[u],n[u]=a):r[u]=new p(t,o[u]);for(;u<s;++u)(a=e[u])&&(i[u]=a)}function v(t,e,r,n,i,o,a){var u,s,c,f=new Map,l=e.length,h=o.length,g=new Array(l);for(u=0;u<l;++u)(s=e[u])&&(g[u]=c=a.call(s,s.__data__,u,e)+"",f.has(c)?i[u]=s:f.set(c,s));for(u=0;u<h;++u)c=a.call(t,o[u],u,o)+"",(s=f.get(c))?(n[u]=s,s.__data__=o[u],f.delete(c)):r[u]=new p(t,o[u]);for(u=0;u<l;++u)(s=e[u])&&f.get(g[u])===s&&(i[u]=s)}function y(t){return t.__data__}function m(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var b="http://www.w3.org/1999/xhtml",w={svg:"http://www.w3.org/2000/svg",xhtml:b,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},x=function(t){var e=t+="",r=e.indexOf(":");return r>=0&&"xmlns"!==(e=t.slice(0,r))&&(t=t.slice(r+1)),w.hasOwnProperty(e)?{space:w[e],local:t}:t};function _(t){return function(){this.removeAttribute(t)}}function j(t){return function(){this.removeAttributeNS(t.space,t.local)}}function O(t,e){return function(){this.setAttribute(t,e)}}function A(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function E(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function M(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}var S=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function T(t){return function(){this.style.removeProperty(t)}}function C(t,e,r){return function(){this.style.setProperty(t,e,r)}}function F(t,e,r){return function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function k(t,e){return t.style.getPropertyValue(e)||S(t).getComputedStyle(t,null).getPropertyValue(e)}function D(t){return function(){delete this[t]}}function P(t,e){return function(){this[t]=e}}function R(t,e){return function(){var r=e.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function L(t){return t.trim().split(/^|\s+/)}function U(t){return t.classList||new N(t)}function N(t){this._node=t,this._names=L(t.getAttribute("class")||"")}function B(t,e){for(var r=U(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function I(t,e){for(var r=U(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function z(t){return function(){B(this,t)}}function Y(t){return function(){I(this,t)}}function $(t,e){return function(){(e.apply(this,arguments)?B:I)(this,t)}}N.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function H(){this.textContent=""}function q(t){return function(){this.textContent=t}}function V(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function W(){this.innerHTML=""}function G(t){return function(){this.innerHTML=t}}function Z(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function K(){this.nextSibling&&this.parentNode.appendChild(this)}function X(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function J(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===b&&e.documentElement.namespaceURI===b?e.createElement(t):e.createElementNS(r,t)}}function Q(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var tt=function(t){var e=x(t);return(e.local?Q:J)(e)};function et(){return null}function rt(){var t=this.parentNode;t&&t.removeChild(this)}function nt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function it(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ot(t){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");return r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),{type:t,name:e}}))}function at(t){return function(){var e=this.__on;if(e){for(var r,n=0,i=-1,o=e.length;n<o;++n)r=e[n],t.type&&r.type!==t.type||r.name!==t.name?e[++i]=r:this.removeEventListener(r.type,r.listener,r.options);++i?e.length=i:delete this.__on}}}function ut(t,e,r){return function(){var n,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,u=i.length;a<u;++a)if((n=i[a]).type===t.type&&n.name===t.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=o,n.options=r),void(n.value=e);this.addEventListener(t.type,o,r),n={type:t.type,name:t.name,value:e,listener:o,options:r},i?i.push(n):this.__on=[n]}}function st(t,e,r){var n=S(t),i=n.CustomEvent;"function"==typeof i?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ct(t,e){return function(){return st(this,t,e)}}function ft(t,e){return function(){return st(this,t,e.apply(this,arguments))}}var lt=[null];function ht(t,e){this._groups=t,this._parents=e}function pt(){return new ht([[document.documentElement]],lt)}ht.prototype=pt.prototype={constructor:ht,select:function(t){"function"!=typeof t&&(t=i(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var a,u,s=e[o],c=s.length,f=n[o]=new Array(c),l=0;l<c;++l)(a=s[l])&&(u=t.call(a,a.__data__,l,s))&&("__data__"in a&&(u.__data__=a.__data__),f[l]=u);return new ht(n,this._parents)},selectAll:function(t){var e;"function"==typeof t?t=function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:o(e)}}(t):t=null==(e=t)?a:function(){return this.querySelectorAll(e)};for(var r=this._groups,n=r.length,i=[],u=[],s=0;s<n;++s)for(var c,f=r[s],l=f.length,h=0;h<l;++h)(c=f[h])&&(i.push(t.call(c,c.__data__,h,f)),u.push(c));return new ht(i,u)},selectChild:function(t){return this.select(null==t?c:function(t){return function(){return s.call(this.children,t)}}("function"==typeof t?t:u(t)))},selectChildren:function(t){return this.selectAll(null==t?l:function(t){return function(){return f.call(this.children,t)}}("function"==typeof t?t:u(t)))},filter:function(t){var e;"function"!=typeof t&&(e=t,t=function(){return this.matches(e)});for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o)for(var a,u=r[o],s=u.length,c=i[o]=[],f=0;f<s;++f)(a=u[f])&&t.call(a,a.__data__,f,u)&&c.push(a);return new ht(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,y);var r=e?v:d,n=this._parents,i=this._groups;"function"!=typeof t&&(t=g(t));for(var a=i.length,u=new Array(a),s=new Array(a),c=new Array(a),f=0;f<a;++f){var l=n[f],h=i[f],p=h.length,m=o(t.call(l,l&&l.__data__,f,n)),b=m.length,w=s[f]=new Array(b),x=u[f]=new Array(b),_=c[f]=new Array(p);r(l,h,w,x,_,m,e);for(var j,O,A=0,E=0;A<b;++A)if(j=w[A]){for(A>=E&&(E=A+1);!(O=x[E])&&++E<b;);j._next=O||null}}return(u=new ht(u,n))._enter=s,u._exit=c,u},enter:function(){return new ht(this._enter||this._groups.map(h),this._parents)},exit:function(){return new ht(this._exit||this._groups.map(h),this._parents)},join:function(t,e,r){var n=this.enter(),i=this,o=this.exit();return n="function"==typeof t?t(n):n.append(t+""),null!=e&&(i=e(i)),null==r?o.remove():r(o),n&&i?n.merge(i).order():i},merge:function(t){if(!(t instanceof ht))throw new Error("invalid merge");for(var e=this._groups,r=t._groups,n=e.length,i=r.length,o=Math.min(n,i),a=new Array(n),u=0;u<o;++u)for(var s,c=e[u],f=r[u],l=c.length,h=a[u]=new Array(l),p=0;p<l;++p)(s=c[p]||f[p])&&(h[p]=s);for(;u<n;++u)a[u]=e[u];return new ht(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n,i=t[e],o=i.length-1,a=i[o];--o>=0;)(n=i[o])&&(a&&4^n.compareDocumentPosition(a)&&a.parentNode.insertBefore(n,a),a=n);return this},sort:function(t){function e(e,r){return e&&r?t(e.__data__,r.__data__):!e-!r}t||(t=m);for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var a,u=r[o],s=u.length,c=i[o]=new Array(s),f=0;f<s;++f)(a=u[f])&&(c[f]=a);c.sort(e)}return new ht(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length;i<o;++i){var a=n[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i,o=e[r],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var r=x(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((null==e?r.local?j:_:"function"==typeof e?r.local?M:E:r.local?A:O)(r,e))},style:function(t,e,r){return arguments.length>1?this.each((null==e?T:"function"==typeof e?F:C)(t,e,null==r?"":r)):k(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?D:"function"==typeof e?R:P)(t,e)):this.node()[t]},classed:function(t,e){var r=L(t+"");if(arguments.length<2){for(var n=U(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each(("function"==typeof e?$:e?z:Y)(r,e))},text:function(t){return arguments.length?this.each(null==t?H:("function"==typeof t?V:q)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?W:("function"==typeof t?Z:G)(t)):this.node().innerHTML},raise:function(){return this.each(K)},lower:function(){return this.each(X)},append:function(t){var e="function"==typeof t?t:tt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var r="function"==typeof t?t:tt(t),n=null==e?et:"function"==typeof e?e:i(e);return this.select((function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)}))},remove:function(){return this.each(rt)},clone:function(t){return this.select(t?it:nt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,r){var n,i,o=ot(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?ut:at,n=0;n<a;++n)this.each(u(o[n],e,r));return this}var u=this.node().__on;if(u)for(var s,c=0,f=u.length;c<f;++c)for(n=0,s=u[c];n<a;++n)if((i=o[n]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?ft:ct)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n,i=t[e],o=0,a=i.length;o<a;++o)(n=i[o])&&(yield n)}};e.a=function(t){return"string"==typeof t?new ht([[document.querySelector(t)]],[document.documentElement]):new ht([[t]],lt)}},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,c=[],f=!1,l=-1;function h(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&p())}function p(){if(!f){var t=u(h);f=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function d(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new g(t,e)),1!==c.length||f||u(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";var n=r(6),i=r(3);e.a=function(t){if(!Object(i.a)(t))return!1;var e=Object(n.a)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,r){"use strict";e.a=function(t){return t}},function(t,e,r){"use strict";e.a=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,r){"use strict";var n=/^(?:0|[1-9]\d*)$/;e.a=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,r){"use strict";var n=r(35);e.a=function(t,e,r){"__proto__"==e&&n.a?Object(n.a)(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},function(t,e,r){"use strict";e.a=function(t){return function(e){return t(e)}}},function(t,e,r){"use strict";var n=r(36);e.a=function(t){var e=new t.constructor(t.byteLength);return new n.a(e).set(new n.a(t)),e}},function(t,e,r){"use strict";var n=r(43),i=Object(n.a)(Object.getPrototypeOf,Object);e.a=i},function(t,e,r){"use strict";var n=Object.prototype;e.a=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(e,r){e.exports=t},function(t,e,r){"use strict";var n=r(6),i=r(26),o=r(2),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var u=function(t){return Object(o.a)(t)&&Object(i.a)(t.length)&&!!a[Object(n.a)(t)]},s=r(29),c=r(14),f=c.a&&c.a.isTypedArray,l=f?Object(s.a)(f):u;e.a=l},function(t,e,r){"use strict";var n=r(5),i=function(){try{var t=Object(n.a)(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();e.a=i},function(t,e,r){"use strict";var n=r(1).a.Uint8Array;e.a=n},function(t,e,r){"use strict";function n(t){t.drawClipedImg=(e,r=0,n=0,i=100,o=100,a=4)=>{if(null!=e){t.save(),t.beginPath(),t.radiusArea(r,n,o,i,a),t.clip(),t.closePath();try{t.drawImage(e,0,0,e.width,e.height,r,n,o,i)}catch(t){console.log(t)}t.stroke(),t.restore()}},t.radiusArea=(e,r,n,i,o)=>{t.lineWidth=0;const a=Math.PI;t.arc(e+o,r+o,o,-a,-a/2),t.arc(e+n-o,r+o,o,-a/2,0),t.arc(e+n-o,r+i-o,o,0,a/2),t.arc(e+o,r+i-o,o,a/2,a)},t.radiusRect=(e,r,n,i,o)=>{t.beginPath(),t.radiusArea(e,r,n,i,o),t.closePath(),t.fill()}}r.d(e,"a",(function(){return n}))},,function(t,e,r){"use strict";(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.a=r}).call(this,r(56))},function(t,e,r){"use strict";e.a=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},function(t,e,r){"use strict";(function(t){var n=r(1),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?n.a.Buffer:void 0,u=a?a.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var r=t.length,n=u?u(r):new t.constructor(r);return t.copy(n),n}}).call(this,r(49)(t))},function(t,e,r){"use strict";var n=r(30);e.a=function(t,e){var r=e?Object(n.a)(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},function(t,e,r){"use strict";e.a=function(t,e){return function(r){return t(e(r))}}},function(t,e,r){"use strict";var n=r(28),i=r(8),o=Object.prototype.hasOwnProperty;e.a=function(t,e,r){var a=t[e];o.call(t,e)&&Object(i.a)(a,r)&&(void 0!==r||e in t)||Object(n.a)(t,e,r)}},function(t,e,r){"use strict";var n=function(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),u=a.length;u--;){var s=a[t?u:++i];if(!1===r(o[s],s,o))break}return e}}();e.a=n},function(t,e,r){"use strict";var n=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n},i=r(20),o=r(0),a=r(12),u=r(27),s=r(34),c=Object.prototype.hasOwnProperty;e.a=function(t,e){var r=Object(o.a)(t),f=!r&&Object(i.a)(t),l=!r&&!f&&Object(a.a)(t),h=!r&&!f&&!l&&Object(s.a)(t),p=r||f||l||h,g=p?n(t.length,String):[],d=g.length;for(var v in t)!e&&!c.call(t,v)||p&&("length"==v||l&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||Object(u.a)(v,d))||g.push(v);return g}},function(t,e,r){"use strict";var n=r(3),i=Object.create,o=function(){function t(){}return function(e){if(!Object(n.a)(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),a=r(31),u=r(32);e.a=function(t){return"function"!=typeof t.constructor||Object(u.a)(t)?{}:o(Object(a.a)(t))}},,function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,r){t.exports=e},function(t,e,r){var n,i;void 0===(i="function"==typeof(n=function(){return function(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(e,r.firstChild);for(var n,i=document.createElement("a"),o=1;o<t;o++)i.href=arguments[o],n=i.href,e.href=n;return r.removeChild(e),n}})?n.call(e,r,e,t):n)||(t.exports=i)},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(t){if(!(e=n.exec(t)))throw new Error("invalid format: "+t);var e;return new o({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function o(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}i.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},,,,function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){let r=!1;e.logging=r,e.setLogging=t=>{r=t},e.log=(t,e)=>r?console.log(`[${t}] ${e}`):null},function(t,e,r){"use strict";e.a=function(){return!1}},function(t,e,r){t.exports=function(){if(!t)var t={map:function(t,e){var r={};return e?t.map((function(t,n){return r.index=n,e.call(r,t)})):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var r={};return t.reduce(e?function(t,n,i){return r.index=i,t+e.call(r,n)}:function(t,e){return t+e},0)},max:function(e,r){return Math.max.apply(null,r?t.map(e,r):e)}};var e=function(){function e(t,e,r){return(t<<10)+(e<<5)+r}function r(t){var e=[],r=!1;function n(){e.sort(t),r=!0}return{push:function(t){e.push(t),r=!1},peek:function(t){return r||n(),void 0===t&&(t=e.length-1),e[t]},pop:function(){return r||n(),e.pop()},size:function(){return e.length},map:function(t){return e.map(t)},debug:function(){return r||n(),e}}}function n(t,e,r,n,i,o,a){this.r1=t,this.r2=e,this.g1=r,this.g2=n,this.b1=i,this.b2=o,this.histo=a}function i(){this.vboxes=new r((function(e,r){return t.naturalOrder(e.vbox.count()*e.vbox.volume(),r.vbox.count()*r.vbox.volume())}))}function o(r,n){if(n.count()){var i=n.r2-n.r1+1,o=n.g2-n.g1+1,a=t.max([i,o,n.b2-n.b1+1]);if(1==n.count())return[n.copy()];var u,s,c,f,l=0,h=[],p=[];if(a==i)for(u=n.r1;u<=n.r2;u++){for(f=0,s=n.g1;s<=n.g2;s++)for(c=n.b1;c<=n.b2;c++)f+=r[e(u,s,c)]||0;h[u]=l+=f}else if(a==o)for(u=n.g1;u<=n.g2;u++){for(f=0,s=n.r1;s<=n.r2;s++)for(c=n.b1;c<=n.b2;c++)f+=r[e(s,u,c)]||0;h[u]=l+=f}else for(u=n.b1;u<=n.b2;u++){for(f=0,s=n.r1;s<=n.r2;s++)for(c=n.g1;c<=n.g2;c++)f+=r[e(s,c,u)]||0;h[u]=l+=f}return h.forEach((function(t,e){p[e]=l-t})),function(t){var e,r,i,o,a,s=t+"1",c=t+"2",f=0;for(u=n[s];u<=n[c];u++)if(h[u]>l/2){for(i=n.copy(),o=n.copy(),a=(e=u-n[s])<=(r=n[c]-u)?Math.min(n[c]-1,~~(u+r/2)):Math.max(n[s],~~(u-1-e/2));!h[a];)a++;for(f=p[a];!f&&h[a-1];)f=p[--a];return i[c]=a,o[s]=i[c]+1,[i,o]}}(a==i?"r":a==o?"g":"b")}}return n.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var r=this.histo;if(!this._count_set||t){var n,i,o,a=0;for(n=this.r1;n<=this.r2;n++)for(i=this.g1;i<=this.g2;i++)for(o=this.b1;o<=this.b2;o++)a+=r[e(n,i,o)]||0;this._count=a,this._count_set=!0}return this._count},copy:function(){return new n(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(t){var r=this.histo;if(!this._avg||t){var n,i,o,a,u=0,s=0,c=0,f=0;for(i=this.r1;i<=this.r2;i++)for(o=this.g1;o<=this.g2;o++)for(a=this.b1;a<=this.b2;a++)u+=n=r[e(i,o,a)]||0,s+=n*(i+.5)*8,c+=n*(o+.5)*8,f+=n*(a+.5)*8;this._avg=u?[~~(s/u),~~(c/u),~~(f/u)]:[~~(8*(this.r1+this.r2+1)/2),~~(8*(this.g1+this.g2+1)/2),~~(8*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var e=t[0]>>3;return gval=t[1]>>3,bval=t[2]>>3,e>=this.r1&&e<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},i.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map((function(t){return t.color}))},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,r=0;r<e.size();r++)if(e.peek(r).vbox.contains(t))return e.peek(r).color;return this.nearest(t)},nearest:function(t){for(var e,r,n,i=this.vboxes,o=0;o<i.size();o++)((r=Math.sqrt(Math.pow(t[0]-i.peek(o).color[0],2)+Math.pow(t[1]-i.peek(o).color[1],2)+Math.pow(t[2]-i.peek(o).color[2],2)))<e||void 0===e)&&(e=r,n=i.peek(o).color);return n},forcebw:function(){var e=this.vboxes;e.sort((function(e,r){return t.naturalOrder(t.sum(e.color),t.sum(r.color))}));var r=e[0].color;r[0]<5&&r[1]<5&&r[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,i=e[n].color;i[0]>251&&i[1]>251&&i[2]>251&&(e[n].color=[255,255,255])}},{quantize:function(a,u){if(!a.length||u<2||u>256)return!1;var s=function(t){var r,n=new Array(32768);return t.forEach((function(t){r=e(t[0]>>3,t[1]>>3,t[2]>>3),n[r]=(n[r]||0)+1})),n}(a);s.forEach((function(){}));var c=function(t,e){var r,i,o,a=1e6,u=0,s=1e6,c=0,f=1e6,l=0;return t.forEach((function(t){(r=t[0]>>3)<a?a=r:r>u&&(u=r),(i=t[1]>>3)<s?s=i:i>c&&(c=i),(o=t[2]>>3)<f?f=o:o>l&&(l=o)})),new n(a,u,s,c,f,l,e)}(a,s),f=new r((function(e,r){return t.naturalOrder(e.count(),r.count())}));function l(t,e){for(var r,n=t.size(),i=0;i<1e3;){if(n>=e)return;if(i++>1e3)return;if((r=t.pop()).count()){var a=o(s,r),u=a[0],c=a[1];if(!u)return;t.push(u),c&&(t.push(c),n++)}else t.push(r),i++}}f.push(c),l(f,.75*u);for(var h=new r((function(e,r){return t.naturalOrder(e.count()*e.volume(),r.count()*r.volume())}));f.size();)h.push(f.pop());l(h,u);for(var p=new i;h.size();)p.push(h.pop());return p}}}().quantize,r=function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context.drawImage(t,0,0,this.width,this.height)};r.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var n=function(){};return n.prototype.getColor=function(t,e){return void 0===e&&(e=10),this.getPalette(t,5,e)[0]},n.prototype.getPalette=function(t,n,i){var o=function(t){var e=t.colorCount,r=t.quality;if(void 0!==e&&Number.isInteger(e)){if(1===e)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");e=Math.max(e,2),e=Math.min(e,20)}else e=10;return(void 0===r||!Number.isInteger(r)||r<1)&&(r=10),{colorCount:e,quality:r}}({colorCount:n,quality:i}),a=new r(t),u=function(t,e,r){for(var n=t,i=[],o=0,a=void 0,u=void 0,s=void 0,c=void 0,f=void 0;o<e;o+=r)u=n[0+(a=4*o)],s=n[a+1],c=n[a+2],(void 0===(f=n[a+3])||f>=125)&&(u>250&&s>250&&c>250||i.push([u,s,c]));return i}(a.getImageData().data,a.width*a.height,o.quality),s=e(u,o.colorCount);return s?s.palette():null},n.prototype.getColorFromUrl=function(t,e,r){var n=this,i=document.createElement("img");i.addEventListener("load",(function(){var o=n.getPalette(i,5,r);e(o[0],t)})),i.src=t},n.prototype.getImageData=function(t,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){if(200==this.status){var t=new Uint8Array(this.response);i=t.length;for(var r=new Array(i),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);var o=r.join(""),a=window.btoa(o);e("data:image/png;base64,"+a)}},r.send()},n.prototype.getColorAsync=function(t,e,r){var n=this;this.getImageData(t,(function(t){var i=document.createElement("img");i.addEventListener("load",(function(){var t=n.getPalette(i,5,r);e(t[0],this)})),i.src=t}))},n}()},function(t,e,r){"use strict";(function(t,n){r.d(e,"a",(function(){return h}));var i=r(63),o=r(62),a=r(96),u=r(21),s=r(22),c=r(95),f=r(98),l=r(37);class h{constructor(){this.metaData=[],this.data=[],this.ffmpeg=u.a,this.pngToMp4=u.b}setOptions(t){a.a(this,t),this.innerMargin={left:this.outerMargin.left,right:this.outerMargin.right,top:this.outerMargin.top,bottom:this.outerMargin.bottom}}loadImages(t,e,r){return Object(i.a)(t,e,r,this)}imageDict(){return Object()}getColor(t){return this.colorData[this.colorKey(t,this.metaData,this)]}label(t){return null!=t.name?t.name:t[this.idField]}colorKey(t){return t[this.idField]}async selectCanvas(t="canvas"){"undefined"!=typeof window?this.canvas=Object(s.a)(t).node():this.initCanvas(),this.ctx=this.canvas.getContext("2d"),console.log(l.a),Object(l.a)(this.ctx)}async initCanvas(t="body"){if("undefined"!=typeof window)this.canvas=Object(s.a)(t).append("canvas").attr("width",this.width).attr("height",this.height).node();else{const{createCanvas:t}=r(50);this.canvas=t(this.width,this.height)}this.ctx=this.canvas.getContext("2d"),Object(l.a)(this.ctx)}async hintText(t,e=this){console.log(t),e.ctx.textAlign="left",e.ctx.fillStyle=e.colorScheme.background,e.ctx.fillRect(0,0,e.width,e.height),e.ctx.fillStyle="#fff",e.ctx.font="20px Sarasa Mono SC",e.ctx.fillText(t,20,30),e.drawWatermark()}async play(){if(this.player)return this.player.stop(),void(this.player=!1);this.ready||await this.readyToDraw(),this.output&&await u.a.load();let t=this.output?0:1e3/this.frameRate,e=async()=>{try{if(this.useCtl&&(this.ctl.slider.value=this.currentFrame,this.ctl.updatectlCurrentFrame(this)),await this.drawFrame(this.currentFrame),this.output&&await u.a.write(`${this.outputName}-${this.currentFrame}.png`,this.canvas.toDataURL("image/png",1)),this.currentFrame==this.frameData.length-1){if(this.useCtl){let t=Object(s.a)("#play-btn");t.text("STOP"==t.text()?"PLAY":"STOP")}if(this.output){await this.ffmpeg.run(`-r ${this.frameRate} -threads 16 -i ${this.outputName}-%d.png ${this.outputName}.mp4`);let t=await u.a.read(`./${this.outputName}.mp4`);this.downloadBlob(new Blob([t.buffer],{type:"video/mp4"}),this.outputName)}return void await this.player.stop()}this.currentFrame++}catch(t){console.error(t),this.player.stop()}};if(this.output){const t=this.frameData.length;for(;this.currentFrame<t;)await e()}else this.player=Object(f.a)(async()=>{await e()},t)}async readyToDraw(){await this.loadImages(this.metaData,this.imageDict,this.imageData),await this.hintText("Loading Data",this),this.calculateFrameData(this.data),this.calPosition(this.idSet,this.frameData),await this.preRender(),await this.fixAlpha(this.frameData),this.calScale(),this.calRenderSort(),"undefined"==typeof window&&(this.useCtl=!1),this.useCtl&&(this.ctl=new o.a,this.ctl.addCtl(this)),this.ready=!0,"undefined"==typeof window&&(console.log("Total Frames: "+this.frameData.length),this.outputPngs(),this.outputMp4())}async drawFrame(t){this.ctx.clearRect(0,0,this.width,this.height);let e=this.frameData[t];this.drawBackground(),this.drawWatermark(),this.drawAxis(t,e),this.drawDate(t),e.forEach(t=>{this.ctx.drawBar(t,e)}),this.drawExt(this.ctx,e,this)}async outputPngs(){if("undefined"==typeof window)for(let t in Object(c.a)(this.frameData.length)){this.currentFrame=t;let e=r(33),n=r(93);this.outputPng(t,this.outputName,e,n)}else console.log("Do not out pngs in browser!")}async outputMp4(){"undefined"==typeof window?await Object(u.b)(this.imagePath,this.outputName,this.frameRate):console.log("Do not out Mp4 from Pngs in browser!")}async outputPng(e,r,i,o){if("undefined"!=typeof window)console.log("Cannot output png in browser!"),this.canvas.toBlob(t=>this.downloadBlob(t,r+".png"));else{!function t(e){let r=[];i.existsSync(e)&&(r=i.readdirSync(e),r.forEach((r,n)=>{let o=e+"/"+r;i.statSync(o).isDirectory()?t(o):i.unlinkSync(o)}),i.rmdirSync(e))}(this.imagePath),await async function(e){for(var r=o.join(t.cwd()),n=e.split("\\"),a=0;a<n.length;a++){if(r=r+"/"+n[a],i.existsSync(r))i.statSync(r).isDirectory()||(i.unlinkSync(r),i.mkdirSync(r));else i.mkdirSync(r)}}(this.imagePath),this.drawFrame(e),this.currentFrame=e,console.log(`output frame: ${e}, name: ${r}`);var a=this.canvas.toDataURL().replace(/^data:image\/\w+;base64,/,""),u=new n.from(a,"base64");i.writeFileSync(`${this.imagePath}${r}-${e}.png`,u)}}}}).call(this,r(23),r(71).Buffer)},function(t,e,r){r(75);const n=r(76);t.exports={createFFmpeg:n}},function(t,e,r){"use strict";var i=r(22),o=r(97);e.a=class{addCtl(t){let e=Object(i.a)("body").append("div").style("font-family","Sarasa Mono SC").attr("class","ctl").style("width",t.width+"px").style("display","flex");e.append("button").attr("id","play-btn").style("font-family","Sarasa Mono SC").text("PLAY").on("click",()=>{let e="STOP"==Object(i.a)("#play-btn").text()?"PLAY":"STOP";t.play(),Object(i.a)("#play-btn").text(e)});let r=e.append("input");r.style("flex-grow",1).attr("type","range").attr("min",0).attr("max",a.totalTrueFrames+a.freeze+a.frameRate-1).attr("step",1).attr("value",0).on("input",()=>{t.currentFrame=+this.slider.value,this.updatectlCurrentFrame(t),t.drawFrame(t.currentFrame)}),this.ctlCurrentFrame=e.append("input").attr("id","c-frame").attr("type","text").style("font-family","Sarasa Mono SC").attr("size",t.totalTrueFrames.toString().length).on("input",()=>{let e=+Object(i.a)("#c-frame").node().value;e<1?e=1:e>t.totalTrueFrames+300?e=t.totalTrueFrames:isNaN(e)&&(e=1),t.currentFrame=e-1,this.slider.value=t.currentFrame,t.drawFrame(t.currentFrame)}),e.append("text").text(" / "+Object(o.a)(",d")(a.totalTrueFrames+a.freeze+a.frameRate)),this.updatectlCurrentFrame(t),this.slider=r.node()}updateCtl(t){t.slider.value=n,this.updatectlCurrentFrame(t)}updatectlCurrentFrame(t){this.ctlCurrentFrame.node().value=""+(t.currentFrame+1)}}},function(t,e,r){"use strict";function n(t){return function(...e){var r=e.pop();return t.call(this,e,r)}}var i="function"==typeof setImmediate&&setImmediate,o="object"==typeof process&&"function"==typeof process.nextTick;function a(t){setTimeout(t,0)}function u(t){return(e,...r)=>t(()=>e(...r))}var s=u(i?setImmediate:o?process.nextTick:a);function c(t){return h(t)?function(...e){const r=e.pop();return f(t.apply(this,e),r)}:n((function(e,r){var n;try{n=t.apply(this,e)}catch(t){return r(t)}if(n&&"function"==typeof n.then)return f(n,r);r(null,n)}))}function f(t,e){return t.then(t=>{l(e,null,t)},t=>{l(e,t&&t.message?t:new Error(t))})}function l(t,e,r){try{t(e,r)}catch(t){s(t=>{throw t},t)}}function h(t){return"AsyncFunction"===t[Symbol.toStringTag]}function p(t){if("function"!=typeof t)throw new Error("expected a function");return h(t)?c(t):t}function g(t,e=t.length){if(!e)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[e-1]?t.apply(this,r):new Promise((n,i)=>{r[e-1]=(t,...e)=>{if(t)return i(t);n(e.length>1?e:e[0])},t.apply(this,r)})}}function d(t){return function(e,...r){return g((function(n){var i=this;return t(e,(t,e)=>{p(t).apply(i,r.concat(e))},n)}))}}function v(t,e,r,n){e=e||[];var i=[],o=0,a=p(r);return t(e,(t,e,r)=>{var n=o++;a(t,(t,e)=>{i[n]=e,r(t)})},t=>{n(t,i)})}function y(t){return t&&"number"==typeof t.length&&t.length>=0&&t.length%1==0}const m={};function b(t){function e(...e){if(null!==t){var r=t;t=null,r.apply(this,e)}}return Object.assign(e,t),e}function w(t){if(y(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()}(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):function(t){var e=t?Object.keys(t):[],r=-1,n=e.length;return function(){var i=e[++r];return r<n?{value:t[i],key:i}:null}}(t)}function x(t){return function(...e){if(null===t)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}function _(t,e,r,n){let i=!1,o=!1,a=!1,u=0,s=0;function c(){u>=e||a||i||(a=!0,t.next().then(({value:t,done:e})=>{if(!o&&!i){if(a=!1,e)return i=!0,void(u<=0&&n(null));u++,r(t,s,f),s++,c()}}).catch(l))}function f(t,e){if(u-=1,!o)return t?l(t):!1===t?(i=!0,void(o=!0)):e===m||i&&u<=0?(i=!0,n(null)):void c()}function l(t){o||(a=!1,i=!0,n(t))}c()}var j=t=>(e,r,n)=>{if(n=b(n),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return n(null);if("AsyncGenerator"===e[Symbol.toStringTag])return _(e,t,r,n);if(function(t){return"function"==typeof t[Symbol.asyncIterator]}(e))return _(e[Symbol.asyncIterator](),t,r,n);var i=w(e),o=!1,a=!1,u=0,s=!1;function c(t,e){if(!a)if(u-=1,t)o=!0,n(t);else if(!1===t)o=!0,a=!0;else{if(e===m||o&&u<=0)return o=!0,n(null);s||f()}}function f(){for(s=!0;u<t&&!o;){var e=i();if(null===e)return o=!0,void(u<=0&&n(null));u+=1,r(e.value,e.key,x(c))}s=!1}f()};var O=g((function(t,e,r,n){return j(e)(t,p(r),n)}),4);function A(t,e,r){r=b(r);var n=0,i=0,{length:o}=t,a=!1;function u(t,e){!1===t&&(a=!0),!0!==a&&(t?r(t):++i!==o&&e!==m||r(null))}for(0===o&&r(null);n<o;n++)e(t[n],n,x(u))}function E(t,e,r){return O(t,1/0,e,r)}var M=g((function(t,e,r){return(y(t)?A:E)(t,p(e),r)}),3);var S=g((function(t,e,r){return v(M,t,e,r)}),3),T=d(S);var C=g((function(t,e,r){return O(t,1,e,r)}),3);var F=g((function(t,e,r){return v(C,t,e,r)}),3),k=d(F);const D=Symbol("promiseCallback");function P(){let t,e;function r(r,...n){if(r)return e(r);t(n.length>1?n:n[0])}return r[D]=new Promise((r,n)=>{t=r,e=n}),r}function R(t,e,r){"number"!=typeof e&&(r=e,e=null),r=b(r||P());var n=Object.keys(t).length;if(!n)return r(null);e||(e=n);var i={},o=0,a=!1,u=!1,s=Object.create(null),c=[],f=[],l={};function h(t,e){c.push(()=>function(t,e){if(u)return;var n=x((e,...n)=>{if(o--,!1!==e)if(n.length<2&&([n]=n),e){var c={};if(Object.keys(i).forEach(t=>{c[t]=i[t]}),c[t]=n,u=!0,s=Object.create(null),a)return;r(e,c)}else i[t]=n,(s[t]||[]).forEach(t=>t()),g();else a=!0});o++;var c=p(e[e.length-1]);e.length>1?c(i,n):c(n)}(t,e))}function g(){if(!a){if(0===c.length&&0===o)return r(null,i);for(;c.length&&o<e;){c.shift()()}}}function d(e){var r=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)&&i.indexOf(e)>=0&&r.push(n)}),r}return Object.keys(t).forEach(e=>{var r=t[e];if(!Array.isArray(r))return h(e,[r]),void f.push(e);var n=r.slice(0,r.length-1),i=n.length;if(0===i)return h(e,r),void f.push(e);l[e]=i,n.forEach(o=>{if(!t[o])throw new Error("async.auto task `"+e+"` has a non-existent dependency `"+o+"` in "+n.join(", "));!function(t,e){var r=s[t];r||(r=s[t]=[]);r.push(e)}(o,()=>{0===--i&&h(e,r)})})}),function(){var t,e=0;for(;f.length;)t=f.pop(),e++,d(t).forEach(t=>{0==--l[t]&&f.push(t)});if(e!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),g(),r[D]}var L=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,U=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,N=/,/,B=/(=.+)?(\s*)$/,I=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;class z{constructor(){this.head=this.tail=null,this.length=0}removeLink(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t}empty(){for(;this.head;)this.shift();return this}insertAfter(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1}insertBefore(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1}unshift(t){this.head?this.insertBefore(this.head,t):Y(this,t)}push(t){this.tail?this.insertAfter(this.tail,t):Y(this,t)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var t=this.head;t;)yield t.data,t=t.next}remove(t){for(var e=this.head;e;){var{next:r}=e;t(e)&&this.removeLink(e),e=r}return this}}function Y(t,e){t.length=1,t.head=t.tail=e}function $(t,e,r){if(null==e)e=1;else if(0===e)throw new RangeError("Concurrency must not be zero");var n=p(t),i=0,o=[];const a={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function u(t,e){return t?e?void(a[t]=a[t].filter(t=>t!==e)):a[t]=[]:Object.keys(a).forEach(t=>a[t]=[])}function c(t,...e){a[t].forEach(t=>t(...e))}var f=!1;function l(t,e,r,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");var i,o;function a(t,...e){return t?r?o(t):i():e.length<=1?i(e[0]):void i(e)}y.started=!0;var u={data:t,callback:r?a:n||a};if(e?y._tasks.unshift(u):y._tasks.push(u),f||(f=!0,s(()=>{f=!1,y.process()})),r||!n)return new Promise((t,e)=>{i=t,o=e})}function h(t){return function(e,...r){i-=1;for(var n=0,a=t.length;n<a;n++){var u=t[n],s=o.indexOf(u);0===s?o.shift():s>0&&o.splice(s,1),u.callback(e,...r),null!=e&&c("error",e,u.data)}i<=y.concurrency-y.buffer&&c("unsaturated"),y.idle()&&c("drain"),y.process()}}function g(t){return!(0!==t.length||!y.idle())&&(s(()=>c("drain")),!0)}const d=t=>e=>{if(!e)return new Promise((e,r)=>{!function(t,e){const r=(...n)=>{u(t,r),e(...n)};a[t].push(r)}(t,(t,n)=>{if(t)return r(t);e(n)})});u(t),function(t,e){a[t].push(e)}(t,e)};var v=!1,y={_tasks:new z,*[Symbol.iterator](){yield*y._tasks[Symbol.iterator]()},concurrency:e,payload:r,buffer:e/4,started:!1,paused:!1,push(t,e){if(Array.isArray(t)){if(g(t))return;return t.map(t=>l(t,!1,!1,e))}return l(t,!1,!1,e)},pushAsync(t,e){if(Array.isArray(t)){if(g(t))return;return t.map(t=>l(t,!1,!0,e))}return l(t,!1,!0,e)},kill(){u(),y._tasks.empty()},unshift(t,e){if(Array.isArray(t)){if(g(t))return;return t.map(t=>l(t,!0,!1,e))}return l(t,!0,!1,e)},unshiftAsync(t,e){if(Array.isArray(t)){if(g(t))return;return t.map(t=>l(t,!0,!0,e))}return l(t,!0,!0,e)},remove(t){y._tasks.remove(t)},process(){if(!v){for(v=!0;!y.paused&&i<y.concurrency&&y._tasks.length;){var t=[],e=[],r=y._tasks.length;y.payload&&(r=Math.min(r,y.payload));for(var a=0;a<r;a++){var u=y._tasks.shift();t.push(u),o.push(u),e.push(u.data)}i+=1,0===y._tasks.length&&c("empty"),i===y.concurrency&&c("saturated");var s=x(h(t));n(e,s)}v=!1}},length:()=>y._tasks.length,running:()=>i,workersList:()=>o,idle:()=>y._tasks.length+i===0,pause(){y.paused=!0},resume(){!1!==y.paused&&(y.paused=!1,s(y.process))}};return Object.defineProperties(y,{saturated:{writable:!1,value:d("saturated")},unsaturated:{writable:!1,value:d("unsaturated")},empty:{writable:!1,value:d("empty")},drain:{writable:!1,value:d("drain")},error:{writable:!1,value:d("error")}}),y}var H=g((function(t,e,r,n){n=b(n);var i=p(r);return C(t,(t,r,n)=>{i(e,t,(t,r)=>{e=r,n(t)})},t=>n(t,e))}),4);function q(...t){var e=t.map(p);return function(...t){var r=this,n=t[t.length-1];return"function"==typeof n?t.pop():n=P(),H(e,t,(t,e,n)=>{e.apply(r,t.concat((t,...e)=>{n(t,e)}))},(t,e)=>n(t,...e)),n[D]}}var V=g((function(t,e,r,n){return v(j(e),t,r,n)}),4);var W=g((function(t,e,r,n){var i=p(r);return V(t,e,(t,e)=>{i(t,(t,...r)=>t?e(t):e(t,r))},(t,e)=>{for(var r=[],i=0;i<e.length;i++)e[i]&&(r=r.concat(...e[i]));return n(t,r)})}),4);var G=g((function(t,e,r){return W(t,1/0,e,r)}),3);var Z=g((function(t,e,r){return W(t,1,e,r)}),3);function K(t,e){return(r,n,i,o)=>{var a,u=!1;const s=p(i);r(n,(r,n,i)=>{s(r,(n,o)=>n||!1===n?i(n):t(o)&&!a?(u=!0,a=e(!0,r),i(null,m)):void i())},t=>{if(t)return o(t);o(null,u?a:e(!1))})}}var X=g((function(t,e,r){return K(t=>t,(t,e)=>e)(M,t,e,r)}),3);var J=g((function(t,e,r,n){return K(t=>t,(t,e)=>e)(j(e),t,r,n)}),4);var Q=g((function(t,e,r){return K(t=>t,(t,e)=>e)(j(1),t,e,r)}),3);function tt(t){return(e,...r)=>p(e)(...r,(e,...r)=>{"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&r.forEach(e=>console[t](e)))})}var et=tt("dir");var rt=g((function(t,e,r){r=x(r);var n,i=p(t),o=p(e);function a(t,...e){if(t)return r(t);!1!==t&&(n=e,o(...e,u))}function u(t,e){return t?r(t):!1!==t?e?void i(a):r(null,...n):void 0}return u(null,!0)}),3);function nt(t){return(e,r,n)=>t(e,n)}var it=g((function(t,e,r){return M(t,nt(p(e)),r)}),3);var ot=g((function(t,e,r,n){return j(e)(t,nt(p(r)),n)}),4);var at=g((function(t,e,r){return ot(t,1,e,r)}),3);function ut(t){return h(t)?t:function(...e){var r=e.pop(),n=!0;e.push((...t)=>{n?s(()=>r(...t)):r(...t)}),t.apply(this,e),n=!1}}var st=g((function(t,e,r){return K(t=>!t,t=>!t)(M,t,e,r)}),3);var ct=g((function(t,e,r,n){return K(t=>!t,t=>!t)(j(e),t,r,n)}),4);var ft=g((function(t,e,r){return K(t=>!t,t=>!t)(C,t,e,r)}),3);function lt(t,e,r,n){var i=new Array(e.length);t(e,(t,e,n)=>{r(t,(t,r)=>{i[e]=!!r,n(t)})},t=>{if(t)return n(t);for(var r=[],o=0;o<e.length;o++)i[o]&&r.push(e[o]);n(null,r)})}function ht(t,e,r,n){var i=[];t(e,(t,e,n)=>{r(t,(r,o)=>{if(r)return n(r);o&&i.push({index:e,value:t}),n(r)})},t=>{if(t)return n(t);n(null,i.sort((t,e)=>t.index-e.index).map(t=>t.value))})}function pt(t,e,r,n){return(y(e)?lt:ht)(t,e,p(r),n)}var gt=g((function(t,e,r){return pt(M,t,e,r)}),3);var dt=g((function(t,e,r,n){return pt(j(e),t,r,n)}),4);var vt=g((function(t,e,r){return pt(C,t,e,r)}),3);var yt=g((function(t,e){var r=x(e),n=p(ut(t));return function t(e){if(e)return r(e);!1!==e&&n(t)}()}),2);var mt=g((function(t,e,r,n){var i=p(r);return V(t,e,(t,e)=>{i(t,(r,n)=>r?e(r):e(r,{key:n,val:t}))},(t,e)=>{for(var r={},{hasOwnProperty:i}=Object.prototype,o=0;o<e.length;o++)if(e[o]){var{key:a}=e[o],{val:u}=e[o];i.call(r,a)?r[a].push(u):r[a]=[u]}return n(t,r)})}),4);var bt=tt("log");var wt=g((function(t,e,r,n){n=b(n);var i={},o=p(r);return j(e)(t,(t,e,r)=>{o(t,e,(t,n)=>{if(t)return r(t);i[e]=n,r(t)})},t=>n(t,i))}),4);var xt=u(o?process.nextTick:i?setImmediate:a),_t=g((t,e,r)=>{var n=y(e)?[]:{};t(e,(t,e,r)=>{p(t)((t,...i)=>{i.length<2&&([i]=i),n[e]=i,r(t)})},t=>r(t,n))},3);function jt(t,e){var r=p(t);return $((t,e)=>{r(t[0],e)},e,1)}class Ot{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(t){let e;for(;t>0&&Mt(this.heap[t],this.heap[e=Et(t)]);){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}percDown(t){let e;for(;(e=At(t))<this.heap.length&&(e+1<this.heap.length&&Mt(this.heap[e+1],this.heap[e])&&(e+=1),!Mt(this.heap[t],this.heap[e]));){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}push(t){t.pushCount=++this.pushCount,this.heap.push(t),this.percUp(this.heap.length-1)}unshift(t){return this.heap.push(t)}shift(){let[t]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),t}toArray(){return[...this]}*[Symbol.iterator](){for(let t=0;t<this.heap.length;t++)yield this.heap[t].data}remove(t){let e=0;for(let r=0;r<this.heap.length;r++)t(this.heap[r])||(this.heap[e]=this.heap[r],e++);this.heap.splice(e);for(let t=Et(this.heap.length-1);t>=0;t--)this.percDown(t);return this}}function At(t){return 1+(t<<1)}function Et(t){return(t+1>>1)-1}function Mt(t,e){return t.priority!==e.priority?t.priority<e.priority:t.pushCount<e.pushCount}var St=g((function(t,e){if(e=b(e),!Array.isArray(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var r=0,n=t.length;r<n;r++)p(t[r])(e)}),2);function Tt(t,e,r,n){var i=[...t].reverse();return H(i,e,r,n)}function Ct(t){var e=p(t);return n((function(t,r){return t.push((t,...e)=>{let n={};if(t&&(n.error=t),e.length>0){var i=e;e.length<=1&&([i]=e),n.value=i}r(null,n)}),e.apply(this,t)}))}function Ft(t,e,r,n){const i=p(r);return pt(t,e,(t,e)=>{i(t,(t,r)=>{e(t,!r)})},n)}var kt=g((function(t,e,r){return Ft(M,t,e,r)}),3);var Dt=g((function(t,e,r,n){return Ft(j(e),t,r,n)}),4);var Pt=g((function(t,e,r){return Ft(C,t,e,r)}),3);function Rt(t){return function(){return t}}function Lt(t,e,r){var n={times:5,intervalFunc:Rt(0)};if(arguments.length<3&&"function"==typeof t?(r=e||P(),e=t):(Ut(n,t),r=r||P()),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var i=p(e),o=1;function a(){i((t,...e)=>{!1!==t&&(t&&o++<n.times&&("function"!=typeof n.errorFilter||n.errorFilter(t))?setTimeout(a,n.intervalFunc(o-1)):r(t,...e))})}return a(),r[D]}function Ut(t,e){if("object"==typeof e)t.times=+e.times||5,t.intervalFunc="function"==typeof e.interval?e.interval:Rt(+e.interval||0),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||5}}var Nt=g((function(t,e,r){return K(Boolean,t=>t)(M,t,e,r)}),3);var Bt=g((function(t,e,r,n){return K(Boolean,t=>t)(j(e),t,r,n)}),4);var It=g((function(t,e,r){return K(Boolean,t=>t)(C,t,e,r)}),3);var zt=g((function(t,e,r){var n=p(e);return S(t,(t,e)=>{n(t,(r,n)=>{if(r)return e(r);e(r,{value:t,criteria:n})})},(t,e)=>{if(t)return r(t);r(null,e.sort(i).map(t=>t.value))});function i(t,e){var r=t.criteria,n=e.criteria;return r<n?-1:r>n?1:0}}),3);function Yt(t,e,r,n){var i=p(r);return V(function(t){for(var e=Array(t);t--;)e[t]=t;return e}(t),e,i,n)}var $t=g((function(t,e){var r,n=null;return at(t,(t,e)=>{p(t)((t,...i)=>{if(!1===t)return e(t);i.length<2?[r]=i:r=i,n=t,e(t?null:{})})},()=>e(n,r))}));var Ht=g((function(t,e,r){r=x(r);var n=p(e),i=p(t),o=[];function a(t,...e){if(t)return r(t);o=e,!1!==t&&i(u)}function u(t,e){return t?r(t):!1!==t?e?void n(a):r(null,...o):void 0}return i(u)}),3);var qt=g((function(t,e){if(e=b(e),!Array.isArray(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function n(e){p(t[r++])(...e,x(i))}function i(i,...o){if(!1!==i)return i||r===t.length?e(i,...o):void n(o)}n([])})),Vt={apply:function(t,...e){return(...r)=>t(...e,...r)},applyEach:T,applyEachSeries:k,asyncify:c,auto:R,autoInject:function(t,e){var r={};return Object.keys(t).forEach(e=>{var n,i=t[e],o=h(i),a=!o&&1===i.length||o&&0===i.length;if(Array.isArray(i))n=[...i],i=n.pop(),r[e]=n.concat(n.length>0?u:i);else if(a)r[e]=i;else{if(n=function(t){const e=t.toString().replace(I,"");let r=e.match(L);if(r||(r=e.match(U)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+e);let[,n]=r;return n.replace(/\s/g,"").split(N).map(t=>t.replace(B,"").trim())}(i),0===i.length&&!o&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");o||n.pop(),r[e]=n.concat(u)}function u(t,e){var r=n.map(e=>t[e]);r.push(e),p(i)(...r)}}),R(r,e)},cargo:function(t,e){return $(t,1,e)},cargoQueue:function(t,e,r){return $(t,e,r)},compose:function(...t){return q(...t.reverse())},concat:G,concatLimit:W,concatSeries:Z,constant:function(...t){return function(...e){return e.pop()(null,...t)}},detect:X,detectLimit:J,detectSeries:Q,dir:et,doUntil:function(t,e,r){const n=p(e);return rt(t,(...t)=>{const e=t.pop();n(...t,(t,r)=>e(t,!r))},r)},doWhilst:rt,each:it,eachLimit:ot,eachOf:M,eachOfLimit:O,eachOfSeries:C,eachSeries:at,ensureAsync:ut,every:st,everyLimit:ct,everySeries:ft,filter:gt,filterLimit:dt,filterSeries:vt,forever:yt,groupBy:function(t,e,r){return mt(t,1/0,e,r)},groupByLimit:mt,groupBySeries:function(t,e,r){return mt(t,1,e,r)},log:bt,map:S,mapLimit:V,mapSeries:F,mapValues:function(t,e,r){return wt(t,1/0,e,r)},mapValuesLimit:wt,mapValuesSeries:function(t,e,r){return wt(t,1,e,r)},memoize:function(t,e=(t=>t)){var r=Object.create(null),i=Object.create(null),o=p(t),a=n((t,n)=>{var a=e(...t);a in r?s(()=>n(null,...r[a])):a in i?i[a].push(n):(i[a]=[n],o(...t,(t,...e)=>{t||(r[a]=e);var n=i[a];delete i[a];for(var o=0,u=n.length;o<u;o++)n[o](t,...e)}))});return a.memo=r,a.unmemoized=t,a},nextTick:xt,parallel:function(t,e){return _t(M,t,e)},parallelLimit:function(t,e,r){return _t(j(e),t,r)},priorityQueue:function(t,e){var r=jt(t,e);return r._tasks=new Ot,r.push=function(t,e=0,n=(()=>{})){if("function"!=typeof n)throw new Error("task callback must be a function");if(r.started=!0,Array.isArray(t)||(t=[t]),0===t.length&&r.idle())return s(()=>r.drain());for(var i=0,o=t.length;i<o;i++){var a={data:t[i],priority:e,callback:n};r._tasks.push(a)}s(r.process)},delete r.unshift,r},queue:jt,race:St,reduce:H,reduceRight:Tt,reflect:Ct,reflectAll:function(t){var e;return Array.isArray(t)?e=t.map(Ct):(e={},Object.keys(t).forEach(r=>{e[r]=Ct.call(this,t[r])})),e},reject:kt,rejectLimit:Dt,rejectSeries:Pt,retry:Lt,retryable:function(t,e){e||(e=t,t=null);let r=t&&t.arity||e.length;h(e)&&(r+=1);var i=p(e);return n((e,n)=>{function o(t){i(...e,t)}return(e.length<r-1||null==n)&&(e.push(n),n=P()),t?Lt(t,o,n):Lt(o,n),n[D]})},seq:q,series:function(t,e){return _t(C,t,e)},setImmediate:s,some:Nt,someLimit:Bt,someSeries:It,sortBy:zt,timeout:function(t,e,r){var i=p(t);return n((n,o)=>{var a,u=!1;n.push((...t)=>{u||(o(...t),clearTimeout(a))}),a=setTimeout((function(){var e=t.name||"anonymous",n=new Error('Callback function "'+e+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),u=!0,o(n)}),e),i(...n)})},times:function(t,e,r){return Yt(t,1/0,e,r)},timesLimit:Yt,timesSeries:function(t,e,r){return Yt(t,1,e,r)},transform:function(t,e,r,n){arguments.length<=3&&"function"==typeof e&&(n=r,r=e,e=Array.isArray(t)?[]:{}),n=b(n||P());var i=p(r);return M(t,(t,r,n)=>{i(e,t,r,n)},t=>n(t,e)),n[D]},tryEach:$t,unmemoize:function(t){return(...e)=>(t.unmemoized||t)(...e)},until:function(t,e,r){const n=p(t);return Ht(t=>n((e,r)=>t(e,!r)),e,r)},waterfall:qt,whilst:Ht,all:st,allLimit:ct,allSeries:ft,any:Nt,anyLimit:Bt,anySeries:It,find:X,findLimit:J,findSeries:Q,flatMap:G,flatMapLimit:W,flatMapSeries:Z,forEach:it,forEachSeries:at,forEachLimit:ot,forEachOf:M,forEachOfSeries:C,forEachOfLimit:O,inject:H,foldl:H,foldr:Tt,select:gt,selectLimit:dt,selectSeries:vt,wrapSync:c,during:Ht,doDuring:rt};let Wt;if("undefined"!=typeof window){const{Image:t}=r(91);Wt=function(e){return new Promise(r=>{const n=new t;n.onload=()=>{r(n)},n.src=e})}}else{let{loadImage:t}=r(50);Wt=t}async function Gt(t,e,r){r[e]=await Wt(t),"undefined"!=typeof window&&r[e].setAttribute("crossOrigin","Anonymous")}e.a=async function(t,e,r,n){let i=Object.entries(t).length,o=0,a=e(t,n);var u=t=>new Promise((e,r)=>setTimeout(r,t));await Vt.mapValues(a,async(t,e)=>{let a=0;for(;;)try{await Promise.race([Gt(t,e,r),u(5e3)]);break}catch(e){if(++a>=10){console.log("Over the number of retries! "),console.log("Src:"+t);break}console.log("Timeout! Reload Image..times:"+a),console.log(e)}n.hintText(`Loading Images ${++o}/ ${i}`)}),console.log("image Loaded")}},,,,,,,,function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(72),i=r(73),o=r(74);function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,r){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=h(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!s.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|g(e,r),i=(t=u(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(s.isBuffer(e)){var r=0|p(e.length);return 0===(t=u(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?u(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(f(e),t=u(t,e<0?0:0|p(e)),!s.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function h(t,e){var r=e.length<0?0:0|p(e.length);t=u(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function g(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return I(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(t).length;default:if(n)return I(t).length;e=(""+e).toLowerCase(),n=!0}}function d(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,r);case"utf8":case"utf-8":return E(this,e,r);case"ascii":return M(this,e,r);case"latin1":case"binary":return S(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function v(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:m(t,e,r,n,i);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,r,n,i){var o,a=1,u=t.length,s=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,u/=2,s/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var f=-1;for(o=r;o<u;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===s)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(r+s>u&&(r=u-s),o=r;o>=0;o--){for(var l=!0,h=0;h<s;h++)if(c(t,o+h)!==c(e,h)){l=!1;break}if(l)return o}return-1}function b(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))return a;t[r+a]=u}return a}function w(t,e,r,n){return Y(I(e,t.length-r),t,r,n)}function x(t,e,r,n){return Y(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function _(t,e,r,n){return x(t,e,r,n)}function j(t,e,r,n){return Y(z(e),t,r,n)}function O(t,e,r,n){return Y(function(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function E(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,u,s,c=t[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&c)<<6|63&o)>127&&(f=s);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(s=(15&c)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:o=t[i+1],a=t[i+2],u=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&u)&&(s=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&u)>65535&&s<1114112&&(f=s)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}e.Buffer=s,e.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,r){return c(null,t,e,r)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,r){return function(t,e,r,n){return f(e),e<=0?u(t,e):void 0!==r?"string"==typeof n?u(t,e).fill(r,n):u(t,e).fill(r):u(t,e)}(null,t,e,r)},s.allocUnsafe=function(t){return l(null,t)},s.allocUnsafeSlow=function(t){return l(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=s.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},s.byteLength=g,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):d.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,r,n,i){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),u=Math.min(o,a),c=this.slice(n,i),f=t.slice(e,r),l=0;l<u;++l)if(c[l]!==f[l]){o=c[l],a=f[l];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},s.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},s.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":return x(this,t,e,r);case"latin1":case"binary":return _(this,t,e,r);case"base64":return j(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function S(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function T(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=B(t[o]);return i}function C(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function F(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,r,n,i,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function D(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function P(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function R(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(t,e,r,n,o){return o||R(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,o){return o||R(t,0,r,8),i.write(t,e,r,n,52,8),r+8}s.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=s.prototype;else{var i=e-t;r=new s(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},s.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},s.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},s.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),i.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),i.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),i.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),i.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||k(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},s.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||k(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},s.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);k(this,t,e,r,i-1,-i)}var o=0,a=1,u=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===u&&0!==this[e+o-1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+r},s.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);k(this,t,e,r,i-1,-i)}var o=r-1,a=1,u=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===u&&0!==this[e+o+1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,r){return L(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return L(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},s.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=s.isBuffer(t)?t:I(new s(t,n).toString()),u=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%u]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function I(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function z(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(56))},function(t,e,r){"use strict";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=c(t),a=n[0],u=n[1],s=new o(function(t,e,r){return 3*(e+r)/4-r}(0,a,u)),f=0,l=u>0?a-4:a;for(r=0;r<l;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],s[f++]=e>>16&255,s[f++]=e>>8&255,s[f++]=255&e;2===u&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,s[f++]=255&e);1===u&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,s[f++]=e>>8&255,s[f++]=255&e);return s},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],a=0,u=r-i;a<u;a+=16383)o.push(f(t,a,a+16383>u?u:a+16383));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)n[u]=a[u],i[a.charCodeAt(u)]=u;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t,e,r){for(var i,o,a=[],u=e;u<r;u+=3)i=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,i){var o,a,u=8*i-n-1,s=(1<<u)-1,c=s>>1,f=-7,l=r?i-1:0,h=r?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=u;f>0;o=256*o+t[e+l],l+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,u,s,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,g=n?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),(e+=a+l>=1?h/s:h*Math.pow(2,1-l))*s>=2&&(a++,s/=2),a+l>=f?(u=0,a=f):a+l>=1?(u=(e*s-1)*Math.pow(2,i),a+=l):(u=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=255&u,p+=g,u/=256,i-=8);for(a=a<<i|u,c+=i;c>0;t[r+p]=255&a,p+=g,a/=256,c-=8);t[r+p-g]|=128*d}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){var n=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof l?e:l,o=Object.create(i.prototype),a=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return A()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),o}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function l(){}function h(){}function p(){}var g={};g[i]=function(){return this};var d=Object.getPrototypeOf,v=d&&d(d(O([])));v&&v!==e&&r.call(v,i)&&(g=v);var y=p.prototype=l.prototype=Object.create(g);function m(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,o){function a(){return new e((function(n,a){!function n(i,o,a,u){var s=c(t[i],t,o);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=y.constructor=p,p.constructor=h,h.displayName=u(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},m(b.prototype),b.prototype[o]=function(){return this},t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new b(s(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(y),u(y,a,"Generator"),y[i]=function(){return this},y.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;_(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,e,r){const n=r(77),{setLogging:i,log:o}=r(57),a=r(78),u=r(81),s=r(82),c=r(84),{defaultOptions:f,getModule:l,fetchFile:h}=r(85),p=Error("FFmpeg.js is not ready, make sure you have completed load()."),g=Error("FFmpeg.js can only run one command at a time");let d=null,v=null;t.exports=(t={})=>{let e=null,r=!1;const{log:y,logger:m,progress:b,...w}=a({...f,...t});i(y);const x=(t,e)=>{if(null===d)throw p;return o("info",`FS.${t} ${e[0]}`),d.FS[t](...e)},_=(t,e)=>x("writeFile",[t,e]),j=t=>{if(null===v)throw p;if(r)throw g;return r=!0,new Promise(r=>{const i=[...n,...c(t)].filter(t=>0!==t.length);o("info","ffmpeg command: "+i.join(" ")),e=r,v(i.length,s(d,i))})};return{load:async()=>{null===d&&(o("info","load ffmpeg-core"),d=await l(w),d.setLogger(t=>{(({message:t,type:n})=>{"ffmpeg-stdout"===n&&"FFMPEG_END"===t&&null!==e&&(e(),e=null,r=!1)})(t),u(t,b),m(t),o(t.type,t.message)}),null===v&&(v=d.cwrap("proxy_main","number",["number","number"])),o("info","ffmpeg-core loaded"))},FS:x,write:async(t,e)=>x("writeFile",[t,await h(e)]),writeText:_,read:t=>x("readFile",[t]),remove:t=>x("unlink",[t]),ls:t=>x("readdir",[t]),run:j,transcode:(t,e,r="")=>j(`-i ${t} ${r} ${e}`),trim:(t,e,r,n,i="")=>j(`-i ${t} -ss ${r} -to ${n} ${i} ${e}`),concatDemuxer:(t,e,r="")=>{const n=t.reduce((t,e)=>`${t}\nfile ${e}`,"");return _("concat_list.txt",n),j(`-f concat -safe 0 -i concat_list.txt ${r} ${e}`)}}}},function(t,e){t.exports=["./ffmpeg","-nostdin","-hide_banner"]},function(t,e,r){const n="browser"===r(79)("type")?r(51):t=>t;t.exports=t=>{const e={...t};return["corePath"].forEach(r=>{void 0!==t[r]&&(e[r]=n(e[r]))}),e}},function(t,e,r){(function(e){const n=r(80);t.exports=t=>{const r={};return n()?r.type="electron":"object"==typeof window?r.type="browser":"function"==typeof importScripts?r.type="webworker":"object"==typeof e&&(r.type="node"),void 0===t?r:r[t]}}).call(this,r(23))},function(t,e,r){(function(e){t.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!(void 0===e||"object"!=typeof e.versions||!e.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}}).call(this,r(23))},function(t,e){let r=0;const n=t=>{const[e,r,n]=t.split(":");return 60*parseFloat(e)*60+60*parseFloat(r)+parseFloat(n)};t.exports=({message:t},e)=>{if("string"==typeof t)if(t.startsWith("  Duration")){const e=t.split(", ")[0].split(": ")[1],i=n(e);(0===r||r>i)&&(r=i)}else if(t.startsWith("frame")){const i=t.split("time=")[1].split(" ")[0];e({ratio:n(i)/r})}else t.startsWith("video:")&&e({ratio:1})}},function(t,e,r){const n=r(83);t.exports=(t,e)=>{const r=t._malloc(e.length*Uint32Array.BYTES_PER_ELEMENT);return e.forEach((e,i)=>{const o=n(t,e);t.setValue(r+4*i,o,"i32")}),r}},function(t,e){t.exports=(t,e)=>{const r=t._malloc((e.length+1)*Uint8Array.BYTES_PER_ELEMENT);for(let n=0;n<e.length;n+=1)t.setValue(r+n,e.charCodeAt(n),"i8");return t.setValue(r+e.length,0,"i8"),r}},function(t,e){t.exports=t=>{const e=[];let r=0,n=0;for(;(r=t.indexOf(" ",n))>=0;){let i=t.substring(n,r),o=i.indexOf("'"),a=i.indexOf('"');if(0===o||0===a){const o=i[0],a=t.indexOf(o,n+1);if(a<0)throw new Error(`Bad command escape sequence ${o} near ${r}`);i=t.substring(n+1,a),n=a+2,e.push(i)}else if(o>0||a>0){-1===o&&(o=1/0),-1===a&&(a=1/0);const u=o<a?"'":'"',s=Math.min(o,a),c=t.indexOf(u,n+s+1);if(c<0)throw new Error(`Bad command escape sequence ${u} near ${r}`);i=t.substring(n,c+1),n=c+2,e.push(i)}else""!==i?(e.push(i),n=r+1):n=r+1}return n!==t.length&&e.push(t.substring(n)),e}},function(t,e,r){const n=r(86),i=r(89),o=r(90);t.exports={defaultOptions:n,getModule:i,fetchFile:o}},function(t,e,r){(function(e){const n=r(51),{dependencies:i}=r(87),o=r(88);t.exports={...o,corePath:void 0!==e&&"development"===e.env.FFMPEG_ENV?n("/node_modules/@ffmpeg/core/ffmpeg-core.js"):`https://unpkg.com/@ffmpeg/core@v${i["@ffmpeg/core"].substring(1)}/ffmpeg-core.js`}}).call(this,r(23))},function(t){t.exports=JSON.parse('{"name":"@ffmpeg/ffmpeg","version":"0.8.3","description":"FFmpeg WebAssembly version","main":"src/index.js","directories":{"example":"examples"},"scripts":{"start":"node scripts/server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","prepublishOnly":"npm run build","lint":"eslint src","wait":"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node --experimental-wasm-threads --experimental-wasm-bulk-memory node_modules/.bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},"browser":{"./src/node/index.js":"./src/browser/index.js"},"repository":{"type":"git","url":"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},"keywords":["ffmpeg","WebAssembly","video"],"author":"Jerome Wu <jeromewus@gmail.com>","license":"MIT","bugs":{"url":"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},"engines":{"node":">=12.16.1"},"homepage":"https://github.com/ffmpegwasm/ffmpeg.wasm#readme","dependencies":{"@ffmpeg/core":"^0.7.1","idb":"^4.0.5","is-electron":"^2.2.0","is-url":"^1.2.4","node-fetch":"^2.6.0","regenerator-runtime":"^0.13.5","resolve-url":"^0.2.1"},"devDependencies":{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.0","babel-loader":"^8.1.0","cors":"^2.8.5","eslint":"^6.8.0","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.20.1","expect.js":"^0.3.1","express":"^4.17.1","mocha":"^5.2.0","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","nyc":"^14.1.1","wait-on":"^3.3.0","webpack":"^4.42.0","webpack-cli":"^3.3.11","webpack-dev-middleware":"^3.7.2"}}')},function(t,e){t.exports={log:!1,logger:()=>{},progress:()=>{}}},function(t,e,r){const{log:n}=r(57);t.exports=async({corePath:t})=>{if(void 0===window.Module){n("info","fetch ffmpeg-core.worker.js script");const e=await(await fetch(t.replace("ffmpeg-core.js","ffmpeg-core.worker.js"))).blob();return window.FFMPEG_CORE_WORKER_SCRIPT=URL.createObjectURL(e),n("info","worker object URL="+window.FFMPEG_CORE_WORKER_SCRIPT),n("info","download ffmpeg-core script (~25 MB) from "+t),new Promise(e=>{const r=document.createElement("script"),i=()=>{r.removeEventListener("load",i),n("info","initialize ffmpeg-core"),window.Module.onRuntimeInitialized=()=>{n("info","ffmpeg-core initialized"),e(window.Module)}};r.src=t,r.type="text/javascript",r.addEventListener("load",i),document.getElementsByTagName("head")[0].appendChild(r)})}return n("info","ffmpeg-core is loaded already"),Promise.resolve(window.Module)}},function(t,e,r){const n=r(51);t.exports=async t=>{let e=t;if(void 0===t)return"undefined";if("string"==typeof t)if(/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(t))e=atob(t.split(",")[1]).split("").map(t=>t.charCodeAt(0));else{const r=await fetch(n(t));e=await r.arrayBuffer()}else(t instanceof File||t instanceof Blob)&&(e=await(r=t,new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=({target:{error:{code:t}}})=>{e(Error("File could not be read! Code="+t))},n.readAsArrayBuffer(r)})));var r;return new Uint8Array(e)}},function(t,e,r){const n=r(92);function i(t){const e=new Image;return e.src=t,e.decode().then(()=>e)}e.getImageData=function(t){if(!t.complete||0===t.naturalWidth)return;const e=document.createElement("canvas");e.width=t.naturalWidth||t.width,e.height=t.naturalHeight||t.height;const r=e.getContext("2d");return r.drawImage(t,0,0,e.width,e.height),r.getImageData(0,0,e.width,e.height)},e.imageFromBuffer=function(t){return i("data:;base64,"+n(t))},e.imageFromImageData=function(t){const e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t,0,0),i(e.toDataURL())},e.Image=Image,e.default=Image},function(t,e,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.exports=function(t){var e,r,i="",o=t.length,a=o%3,u=o-a;for(e=0;e<u;e+=3)r=(255&t[e])<<16|(255&t[e+1])<<8|255&t[e+2],i+=n[r>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r];return 1===a&&(r=255&t[u],i+=n[r>>2]+n[r<<4&63]+"=="),2===a&&(r=(255&t[u])<<8|255&t[u+1],i+=n[r>>10]+n[r>>4&63]+n[r<<2&63]+"="),i}},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return(i?"/":"")+(e=r(n(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),a="/"===i(t,-1);return(t=r(n(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&a&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),a=Math.min(i.length,o.length),u=a,s=0;s<a;s++)if(i[s]!==o[s]){u=s;break}var c=[];for(s=u;s<i.length;s++)c.push("..");return(c=c.concat(o.slice(u))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var r=function(t){"string"!=typeof t&&(t+="");var e,r=0,n=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){r=e+1;break}}else-1===n&&(i=!1,n=e+1);return-1===n?"":t.slice(r,n)}(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,r=0,n=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var u=t.charCodeAt(a);if(47!==u)-1===n&&(i=!1,n=a+1),46===u?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){r=a+1;break}}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===r+1?"":t.slice(e,n)};var i="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(23))},function(t,e,r){"use strict";r.r(e),r.d(e,"Scene",(function(){return F})),r.d(e,"Bar",(function(){return Io})),r.d(e,"Text",(function(){return Yo})),r.d(e,"Base",(function(){return a})),r.d(e,"BlurText",(function(){return Vo})),r.d(e,"FadeText",(function(){return Ho})),r.d(e,"RiseText",(function(){return Zo})),r.d(e,"Group",(function(){return s})),r.d(e,"TextLines",(function(){return f}));var n,o=r(96),a=function(){function t(t){this.reset(t)}return t.prototype.reset=function(t){Object(o.a)(this,t)},t.prototype.saveCtx=function(){this.ani.ctx.save()},t.prototype.preRender=function(t){this._alpha=this.alpha instanceof Function?this.alpha(t/this.ani.fps):this.alpha,this._pos=this.getValue(this.pos,t),this.ani.ctx.globalAlpha=this._alpha,this.ani.ctx.translate(this._pos.x,this._pos.y)},t.prototype.restoreCtx=function(){this.ani.ctx.restore()},t.prototype.draw=function(t){this.saveCtx(),this.preRender(t),this.render(t),this.restoreCtx(),this.components&&this.components.forEach((function(e){e.draw(t)}))},t.prototype.getValue=function(t,e){return t instanceof Function?t(e):t},t}(),u=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=function(t){function e(e){var r=t.call(this,e)||this;return r.reset(e),r}return u(e,t),e.prototype.render=function(t){},e.prototype.addComponent=function(t){this.reset({}),this.components||(this.components=[]),this.components.push(t),t.ani=this.ani},e.prototype.reset=function(e){t.prototype.reset.call(this,e),this.components||(this.components=[])},e.prototype.draw=function(t){this.components.forEach((function(e){e.draw(t)}))},e}(a),c=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),f=function(t){function e(e){var r=t.call(this,e)||this;return r.reset(e),r}return c(e,t),e.prototype.addComponent=function(t){this.components.push(t),t.ani=this.ani,this.reset({})},e.prototype.reset=function(e){var r=this;t.prototype.reset.call(this,e),e.lineSpacing&&(this.lineSpacing=e.lineSpacing);var n=0;this.components.forEach((function(t){var e=t.fontSize?t.fontSize:r.fontSize,i=t.font?t.font:r.font,o=t.fillStyle?t.fillStyle:r.fillStyle;n+=r.lineSpacing+e,t.pos=r.pos,t.font=i,t.fontSize=e,t.fillStyle=o,t.offset={x:0,y:n}}))},e}(s),l=r(37),h=r(22),p={},g={};function d(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function v(t){var e=Object.create(null),r=[];return t.forEach((function(t){for(var n in t)n in e||r.push(e[n]=n)})),r}function y(t,e){var r=t+"",n=r.length;return n<e?new Array(e-n+1).join(0)+r:r}function m(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),n=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+y(-t,6):t>9999?"+"+y(t,6):y(t,4)}(t.getUTCFullYear())+"-"+y(t.getUTCMonth()+1,2)+"-"+y(t.getUTCDate(),2)+(i?"T"+y(e,2)+":"+y(r,2)+":"+y(n,2)+"."+y(i,3)+"Z":n?"T"+y(e,2)+":"+y(r,2)+":"+y(n,2)+"Z":r||e?"T"+y(e,2)+":"+y(r,2)+"Z":"")}var b=function(t){var e=new RegExp('["'+t+"\n\r]"),r=t.charCodeAt(0);function n(t,e){var n,i=[],o=t.length,a=0,u=0,s=o<=0,c=!1;function f(){if(s)return g;if(c)return c=!1,p;var e,n,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?s=!0:10===(n=t.charCodeAt(a++))?c=!0:13===n&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(n=t.charCodeAt(e=a++)))c=!0;else if(13===n)c=!0,10===t.charCodeAt(a)&&++a;else if(n!==r)continue;return t.slice(i,e)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(n=f())!==g;){for(var l=[];n!==p&&n!==g;)l.push(n),n=f();e&&null==(l=e(l,u++))||i.push(l)}return i}function i(e,r){return e.map((function(e){return r.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?m(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var r,i,o=n(t,(function(t,n){if(r)return r(t,n-1);i=t,r=e?function(t,e){var r=d(t);return function(n,i){return e(r(n),i,t)}}(t,e):d(t)}));return o.columns=i||[],o},parseRows:n,format:function(e,r){return null==r&&(r=v(e)),[r.map(a).join(t)].concat(i(e,r)).join("\n")},formatBody:function(t,e){return null==e&&(e=v(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}},w=b(","),x=w.parse,_=(w.parseRows,w.format,w.formatBody,w.formatRows,w.formatRow,w.formatValue,b("\t")),j=_.parse;_.parseRows,_.format,_.formatBody,_.formatRows,_.formatRow,_.formatValue;function O(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var A=function(t,e){return fetch(t,e).then(O)};function E(t){return function(e,r,n){return 2===arguments.length&&"function"==typeof r&&(n=r,r=void 0),A(e,r).then((function(e){return t(e,n)}))}}var M=E(x),S=(E(j),r(98)),T=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{s(n.next(t))}catch(t){o(t)}}function u(t){try{s(n.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}s((n=n.apply(t,e||[])).next())}))},C=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},F=function(){function t(t){void 0===t&&(t={}),this.fps=12,this.sec=3,this.width=1366,this.height=768,this.components=[],this.cFrame=0,this.colorScheme=["#27C","#FB0","#FFF","#2C8","#D23","#0CE","#E8A","#DDA","#C86","#F72","#C8C","#BCA","#F27"],this.background="1E1E1E",this.setOptions(t)}return t.prototype.addComponent=function(t){t.ani=this,this.components.push(t)},t.prototype.loadData=function(t){return T(this,void 0,void 0,(function(){var e,r;return C(this,(function(n){switch(n.label){case 0:return this.drawHint("Loading Data..."),"string"!=typeof t?[3,2]:(e=this,[4,M(t)]);case 1:return e.data=n.sent(),[3,4];case 2:return r=this,[4,M(t.default)];case 3:r.data=n.sent(),n.label=4;case 4:return this.drawHint("Loading Data...Finished!"),[2]}}))}))},t.prototype.loadMeta=function(t){return T(this,void 0,void 0,(function(){var e;return C(this,(function(r){switch(r.label){case 0:return e=this,[4,M(t)];case 1:return e.meta=r.sent(),[2]}}))}))},t.prototype.ready=function(){throw new Error("Method not implemented.")},t.prototype.play=function(){var t=this;if(this.player)return this.player.stop(),void(this.player=null);if(this.output)for(;this.cFrame<this.totalFrames;)this.draw(this.cFrame++);else{var e=(new Date).getTime();this.player=Object(S.a)((function(){return T(t,void 0,void 0,(function(){return C(this,(function(t){return this.draw(this.cFrame++),this.cFrame>=this.totalFrames&&(this.player.stop(),this.drawHint("Finished! FPS: "+(this.sec*this.fps/(((new Date).getTime()-e)/1e3)).toFixed(2))),[2]}))}))}),1/this.fps*1e3)}},t.prototype.draw=function(t){this.drawBackground(),this.components.forEach((function(e){e.draw(t)}))},t.prototype.setOptions=function(t){Object(o.a)(this,t),this.calOptions()},t.prototype.calOptions=function(){this.totalFrames=this.fps*this.sec},t.prototype.setCanvas=function(t){if("undefined"!=typeof window)this.canvas=Object(h.a)(t).node(),this.canvas&&null!=this.canvas.getContext||this.initCanvas();else{var e=r(50).createCanvas;this.canvas=e(this.width,this.height)}this.ctx=this.canvas.getContext("2d"),Object(l.a)(this.ctx)},t.prototype.initCanvas=function(){this.canvas=Object(h.a)("body").append("canvas").attr("width",this.width).attr("height",this.height).node()},t.prototype.preRender=function(){},t.prototype.drawBackground=function(){this.ctx.save(),this.ctx.fillStyle=this.background,this.ctx.fillRect(0,0,this.width,this.height),this.ctx.restore()},t.prototype.drawHint=function(t){this.ctx&&(this.drawBackground(),this.ctx.save(),this.ctx.font="18px Sarasa Mono SC",this.ctx.fillStyle="#FFF",this.ctx.fillText(t,20,38),this.ctx.restore()),this.hint=t,console.log(t)},t}(),k=r(46),D=r(32),P=r(43),R=Object(P.a)(Object.keys,Object),L=Object.prototype.hasOwnProperty;var U=function(t){if(!Object(D.a)(t))return R(t);var e=[];for(var r in Object(t))L.call(t,r)&&"constructor"!=r&&e.push(r);return e},N=r(7);var B=function(t){return Object(N.a)(t)?Object(k.a)(t):U(t)};var I=function(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r},z=r(45);var Y=function(t,e){return function(r,n){if(null==r)return r;if(!Object(N.a)(r))return t(r,n);for(var i=r.length,o=e?i:-1,a=Object(r);(e?o--:++o<i)&&!1!==n(a[o],o,a););return r}}((function(t,e){return t&&Object(z.a)(t,e,B)})),$=r(11),H=r(19);var q=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var V=function(t){return this.__data__.has(t)};function W(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new H.a;++e<r;)this.add(t[e])}W.prototype.add=W.prototype.push=q,W.prototype.has=V;var G=W;var Z=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1};var K=function(t,e){return t.has(e)};var X=function(t,e,r,n,i,o){var a=1&r,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var f=-1,l=!0,h=2&r?new G:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var p=t[f],g=e[f];if(n)var d=a?n(g,p,f,e,t,o):n(p,g,f,t,e,o);if(void 0!==d){if(d)continue;l=!1;break}if(h){if(!Z(e,(function(t,e){if(!K(h,e)&&(p===t||i(p,t,r,n,o)))return h.push(e)}))){l=!1;break}}else if(p!==g&&!i(p,g,r,n,o)){l=!1;break}}return o.delete(t),o.delete(e),l},J=r(4),Q=r(36),tt=r(8);var et=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r};var rt=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},nt=J.a?J.a.prototype:void 0,it=nt?nt.valueOf:void 0;var ot=function(t,e,r,n,i,o,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Q.a(t),new Q.a(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(tt.a)(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=et;case"[object Set]":var s=1&n;if(u||(u=rt),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;n|=2,a.set(t,e);var f=X(u(t),u(e),n,i,o,a);return a.delete(t),f;case"[object Symbol]":if(it)return it.call(t)==it.call(e)}return!1};var at=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t},ut=r(0);var st=function(t,e,r){var n=e(t);return Object(ut.a)(t)?n:at(n,r(t))};var ct=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o};var ft=function(){return[]},lt=Object.prototype.propertyIsEnumerable,ht=Object.getOwnPropertySymbols,pt=ht?function(t){return null==t?[]:(t=Object(t),ct(ht(t),(function(e){return lt.call(t,e)})))}:ft;var gt=function(t){return st(t,B,pt)},dt=Object.prototype.hasOwnProperty;var vt=function(t,e,r,n,i,o){var a=1&r,u=gt(t),s=u.length;if(s!=gt(e).length&&!a)return!1;for(var c=s;c--;){var f=u[c];if(!(a?f in e:dt.call(e,f)))return!1}var l=o.get(t);if(l&&o.get(e))return l==e;var h=!0;o.set(t,e),o.set(e,t);for(var p=a;++c<s;){var g=t[f=u[c]],d=e[f];if(n)var v=a?n(d,g,f,e,t,o):n(g,d,f,t,e,o);if(!(void 0===v?g===d||i(g,d,r,n,o):v)){h=!1;break}p||(p="constructor"==f)}if(h&&!p){var y=t.constructor,m=e.constructor;y==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m||(h=!1)}return o.delete(t),o.delete(e),h},yt=r(5),mt=r(1),bt=Object(yt.a)(mt.a,"DataView"),wt=r(18),xt=Object(yt.a)(mt.a,"Promise"),_t=Object(yt.a)(mt.a,"Set"),jt=Object(yt.a)(mt.a,"WeakMap"),Ot=r(6),At=r(15),Et=Object(At.a)(bt),Mt=Object(At.a)(wt.a),St=Object(At.a)(xt),Tt=Object(At.a)(_t),Ct=Object(At.a)(jt),Ft=Ot.a;(bt&&"[object DataView]"!=Ft(new bt(new ArrayBuffer(1)))||wt.a&&"[object Map]"!=Ft(new wt.a)||xt&&"[object Promise]"!=Ft(xt.resolve())||_t&&"[object Set]"!=Ft(new _t)||jt&&"[object WeakMap]"!=Ft(new jt))&&(Ft=function(t){var e=Object(Ot.a)(t),r="[object Object]"==e?t.constructor:void 0,n=r?Object(At.a)(r):"";if(n)switch(n){case Et:return"[object DataView]";case Mt:return"[object Map]";case St:return"[object Promise]";case Tt:return"[object Set]";case Ct:return"[object WeakMap]"}return e});var kt=Ft,Dt=r(12),Pt=r(34),Rt=Object.prototype.hasOwnProperty;var Lt=function(t,e,r,n,i,o){var a=Object(ut.a)(t),u=Object(ut.a)(e),s=a?"[object Array]":kt(t),c=u?"[object Array]":kt(e),f="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),l="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),h=s==c;if(h&&Object(Dt.a)(t)){if(!Object(Dt.a)(e))return!1;a=!0,f=!1}if(h&&!f)return o||(o=new $.a),a||Object(Pt.a)(t)?X(t,e,r,n,i,o):ot(t,e,s,r,n,i,o);if(!(1&r)){var p=f&&Rt.call(t,"__wrapped__"),g=l&&Rt.call(e,"__wrapped__");if(p||g){var d=p?t.value():t,v=g?e.value():e;return o||(o=new $.a),i(d,v,r,n,o)}}return!!h&&(o||(o=new $.a),vt(t,e,r,n,i,o))},Ut=r(2);var Nt=function t(e,r,n,i,o){return e===r||(null==e||null==r||!Object(Ut.a)(e)&&!Object(Ut.a)(r)?e!=e&&r!=r:Lt(e,r,n,i,t,o))};var Bt=function(t,e,r,n){var i=r.length,o=i,a=!n;if(null==t)return!o;for(t=Object(t);i--;){var u=r[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var s=(u=r[i])[0],c=t[s],f=u[1];if(a&&u[2]){if(void 0===c&&!(s in t))return!1}else{var l=new $.a;if(n)var h=n(c,f,s,t,e,l);if(!(void 0===h?Nt(f,c,3,n,l):h))return!1}}return!0},It=r(3);var zt=function(t){return t==t&&!Object(It.a)(t)};var Yt=function(t){for(var e=B(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,zt(i)]}return e};var $t=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}};var Ht=function(t){var e=Yt(t);return 1==e.length&&e[0][2]?$t(e[0][0],e[0][1]):function(r){return r===t||Bt(r,t,e)}};var qt=function(t){return"symbol"==typeof t||Object(Ut.a)(t)&&"[object Symbol]"==Object(Ot.a)(t)},Vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wt=/^\w*$/;var Gt=function(t,e){if(Object(ut.a)(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!qt(t))||(Wt.test(t)||!Vt.test(t)||null!=e&&t in Object(e))};function Zt(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Zt.Cache||H.a),r}Zt.Cache=H.a;var Kt=Zt;var Xt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jt=/\\(\\)?/g,Qt=function(t){var e=Kt(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Xt,(function(t,r,n,i){e.push(n?i.replace(Jt,"$1"):r||t)})),e}));var te=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i},ee=J.a?J.a.prototype:void 0,re=ee?ee.toString:void 0;var ne=function t(e){if("string"==typeof e)return e;if(Object(ut.a)(e))return te(e,t)+"";if(qt(e))return re?re.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r};var ie=function(t){return null==t?"":ne(t)};var oe=function(t,e){return Object(ut.a)(t)?t:Gt(t,e)?[t]:Qt(ie(t))};var ae=function(t){if("string"==typeof t||qt(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var ue=function(t,e){for(var r=0,n=(e=oe(e,t)).length;null!=t&&r<n;)t=t[ae(e[r++])];return r&&r==n?t:void 0};var se=function(t,e,r){var n=null==t?void 0:ue(t,e);return void 0===n?r:n};var ce=function(t,e){return null!=t&&e in Object(t)},fe=r(20),le=r(27),he=r(26);var pe=function(t,e,r){for(var n=-1,i=(e=oe(e,t)).length,o=!1;++n<i;){var a=ae(e[n]);if(!(o=null!=t&&r(t,a)))break;t=t[a]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&Object(he.a)(i)&&Object(le.a)(a,i)&&(Object(ut.a)(t)||Object(fe.a)(t))};var ge=function(t,e){return null!=t&&pe(t,e,ce)};var de=function(t,e){return Gt(t)&&zt(e)?$t(ae(t),e):function(r){var n=se(r,t);return void 0===n&&n===e?ge(r,t):Nt(e,n,3)}},ve=r(25);var ye=function(t){return function(e){return null==e?void 0:e[t]}};var me=function(t){return function(e){return ue(e,t)}};var be=function(t){return Gt(t)?ye(ae(t)):me(t)};var we=function(t){return"function"==typeof t?t:null==t?ve.a:"object"==typeof t?Object(ut.a)(t)?de(t[0],t[1]):Ht(t):be(t)};var xe=function(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r};var _e=function(t,e,r){var n=Object(ut.a)(t)?I:xe,i=arguments.length<3;return n(t,we(e,4),r,i,Y)};var je=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t},Oe=r(44),Ae=r(9);var Ee=function(t,e){return t&&Object(Ae.a)(e,B(e),t)},Me=r(17);var Se=function(t,e){return t&&Object(Ae.a)(e,Object(Me.a)(e),t)},Te=r(41),Ce=r(40);var Fe=function(t,e){return Object(Ae.a)(t,pt(t),e)},ke=r(31),De=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)at(e,pt(t)),t=Object(ke.a)(t);return e}:ft;var Pe=function(t,e){return Object(Ae.a)(t,De(t),e)};var Re=function(t){return st(t,Me.a,De)},Le=Object.prototype.hasOwnProperty;var Ue=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Le.call(t,"index")&&(r.index=t.index,r.input=t.input),r},Ne=r(30);var Be=function(t,e){var r=e?Object(Ne.a)(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},Ie=/\w*$/;var ze=function(t){var e=new t.constructor(t.source,Ie.exec(t));return e.lastIndex=t.lastIndex,e},Ye=J.a?J.a.prototype:void 0,$e=Ye?Ye.valueOf:void 0;var He=function(t){return $e?Object($e.call(t)):{}},qe=r(42);var Ve=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return Object(Ne.a)(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return Be(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Object(qe.a)(t,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return ze(t);case"[object Set]":return new n;case"[object Symbol]":return He(t)}},We=r(47);var Ge=function(t){return Object(Ut.a)(t)&&"[object Map]"==kt(t)},Ze=r(29),Ke=r(14),Xe=Ke.a&&Ke.a.isMap,Je=Xe?Object(Ze.a)(Xe):Ge;var Qe=function(t){return Object(Ut.a)(t)&&"[object Set]"==kt(t)},tr=Ke.a&&Ke.a.isSet,er=tr?Object(Ze.a)(tr):Qe,rr={};rr["[object Arguments]"]=rr["[object Array]"]=rr["[object ArrayBuffer]"]=rr["[object DataView]"]=rr["[object Boolean]"]=rr["[object Date]"]=rr["[object Float32Array]"]=rr["[object Float64Array]"]=rr["[object Int8Array]"]=rr["[object Int16Array]"]=rr["[object Int32Array]"]=rr["[object Map]"]=rr["[object Number]"]=rr["[object Object]"]=rr["[object RegExp]"]=rr["[object Set]"]=rr["[object String]"]=rr["[object Symbol]"]=rr["[object Uint8Array]"]=rr["[object Uint8ClampedArray]"]=rr["[object Uint16Array]"]=rr["[object Uint32Array]"]=!0,rr["[object Error]"]=rr["[object Function]"]=rr["[object WeakMap]"]=!1;var nr=function t(e,r,n,i,o,a){var u,s=1&r,c=2&r,f=4&r;if(n&&(u=o?n(e,i,o,a):n(e)),void 0!==u)return u;if(!Object(It.a)(e))return e;var l=Object(ut.a)(e);if(l){if(u=Ue(e),!s)return Object(Ce.a)(e,u)}else{var h=kt(e),p="[object Function]"==h||"[object GeneratorFunction]"==h;if(Object(Dt.a)(e))return Object(Te.a)(e,s);if("[object Object]"==h||"[object Arguments]"==h||p&&!o){if(u=c||p?{}:Object(We.a)(e),!s)return c?Pe(e,Se(u,e)):Fe(e,Ee(u,e))}else{if(!rr[h])return o?e:{};u=Ve(e,h,s)}}a||(a=new $.a);var g=a.get(e);if(g)return g;a.set(e,u),er(e)?e.forEach((function(i){u.add(t(i,r,n,i,e,a))})):Je(e)&&e.forEach((function(i,o){u.set(o,t(i,r,n,o,e,a))}));var d=f?c?Re:gt:c?keysIn:B,v=l?void 0:d(e);return je(v||e,(function(i,o){v&&(i=e[o=i]),Object(Oe.a)(u,o,t(i,r,n,o,e,a))})),u};var ir=function(t){return nr(t,5)},or=r(59),ar=r.n(or);if(!ur)var ur={map:function(t,e){var r={};return e?t.map((function(t,n){return r.index=n,e.call(r,t)})):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var r={};return t.reduce(e?function(t,n,i){return r.index=i,t+e.call(r,n)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?ur.map(t,e):t)}};var sr=function(){function t(t,e,r){return(t<<10)+(e<<5)+r}function e(t){var e=[],r=!1;function n(){e.sort(t),r=!0}return{push:function(t){e.push(t),r=!1},peek:function(t){return r||n(),void 0===t&&(t=e.length-1),e[t]},pop:function(){return r||n(),e.pop()},size:function(){return e.length},map:function(t){return e.map(t)},debug:function(){return r||n(),e}}}function r(t,e,r,n,i,o,a){this.r1=t,this.r2=e,this.g1=r,this.g2=n,this.b1=i,this.b2=o,this.histo=a}function n(){this.vboxes=new e((function(t,e){return ur.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())}))}function i(e,r){if(r.count()){var n=r.r2-r.r1+1,i=r.g2-r.g1+1,o=ur.max([n,i,r.b2-r.b1+1]);if(1==r.count())return[r.copy()];var a,u,s,c,f=0,l=[],h=[];if(o==n)for(a=r.r1;a<=r.r2;a++){for(c=0,u=r.g1;u<=r.g2;u++)for(s=r.b1;s<=r.b2;s++)c+=e[t(a,u,s)]||0;l[a]=f+=c}else if(o==i)for(a=r.g1;a<=r.g2;a++){for(c=0,u=r.r1;u<=r.r2;u++)for(s=r.b1;s<=r.b2;s++)c+=e[t(u,a,s)]||0;l[a]=f+=c}else for(a=r.b1;a<=r.b2;a++){for(c=0,u=r.r1;u<=r.r2;u++)for(s=r.g1;s<=r.g2;s++)c+=e[t(u,s,a)]||0;l[a]=f+=c}return l.forEach((function(t,e){h[e]=f-t})),function(t){var e,n,i,o,u,s=t+"1",c=t+"2",p=0;for(a=r[s];a<=r[c];a++)if(l[a]>f/2){for(i=r.copy(),o=r.copy(),u=(e=a-r[s])<=(n=r[c]-a)?Math.min(r[c]-1,~~(a+n/2)):Math.max(r[s],~~(a-1-e/2));!l[u];)u++;for(p=h[u];!p&&l[u-1];)p=h[--u];return i[c]=u,o[s]=i[c]+1,[i,o]}}(o==n?"r":o==i?"g":"b")}}return r.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(e){var r=this.histo;if(!this._count_set||e){var n,i,o,a=0;for(n=this.r1;n<=this.r2;n++)for(i=this.g1;i<=this.g2;i++)for(o=this.b1;o<=this.b2;o++)a+=r[t(n,i,o)]||0;this._count=a,this._count_set=!0}return this._count},copy:function(){return new r(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(e){var r=this.histo;if(!this._avg||e){var n,i,o,a,u=0,s=0,c=0,f=0;for(i=this.r1;i<=this.r2;i++)for(o=this.g1;o<=this.g2;o++)for(a=this.b1;a<=this.b2;a++)u+=n=r[t(i,o,a)]||0,s+=n*(i+.5)*8,c+=n*(o+.5)*8,f+=n*(a+.5)*8;this._avg=u?[~~(s/u),~~(c/u),~~(f/u)]:[~~(8*(this.r1+this.r2+1)/2),~~(8*(this.g1+this.g2+1)/2),~~(8*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var e=t[0]>>3;return gval=t[1]>>3,bval=t[2]>>3,e>=this.r1&&e<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},n.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map((function(t){return t.color}))},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,r=0;r<e.size();r++)if(e.peek(r).vbox.contains(t))return e.peek(r).color;return this.nearest(t)},nearest:function(t){for(var e,r,n,i=this.vboxes,o=0;o<i.size();o++)((r=Math.sqrt(Math.pow(t[0]-i.peek(o).color[0],2)+Math.pow(t[1]-i.peek(o).color[1],2)+Math.pow(t[2]-i.peek(o).color[2],2)))<e||void 0===e)&&(e=r,n=i.peek(o).color);return n},forcebw:function(){var t=this.vboxes;t.sort((function(t,e){return ur.naturalOrder(ur.sum(t.color),ur.sum(e.color))}));var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var r=t.length-1,n=t[r].color;n[0]>251&&n[1]>251&&n[2]>251&&(t[r].color=[255,255,255])}},{quantize:function(o,a){if(!o.length||a<2||a>256)return!1;var u=function(e){var r,n=new Array(32768);return e.forEach((function(e){r=t(e[0]>>3,e[1]>>3,e[2]>>3),n[r]=(n[r]||0)+1})),n}(o);u.forEach((function(){}));var s=function(t,e){var n,i,o,a=1e6,u=0,s=1e6,c=0,f=1e6,l=0;return t.forEach((function(t){(n=t[0]>>3)<a?a=n:n>u&&(u=n),(i=t[1]>>3)<s?s=i:i>c&&(c=i),(o=t[2]>>3)<f?f=o:o>l&&(l=o)})),new r(a,u,s,c,f,l,e)}(o,u),c=new e((function(t,e){return ur.naturalOrder(t.count(),e.count())}));function f(t,e){for(var r,n=t.size(),o=0;o<1e3;){if(n>=e)return;if(o++>1e3)return;if((r=t.pop()).count()){var a=i(u,r),s=a[0],c=a[1];if(!s)return;t.push(s),c&&(t.push(c),n++)}else t.push(r),o++}}c.push(s),f(c,.75*a);for(var l=new e((function(t,e){return ur.naturalOrder(t.count()*t.volume(),e.count()*e.volume())}));c.size();)l.push(c.pop());f(l,a);for(var h=new n;l.size();)h.push(l.pop());return h}}}().quantize,cr=function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context.drawImage(t,0,0,this.width,this.height)};cr.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var fr=function(){};fr.prototype.getColor=function(t,e){return void 0===e&&(e=10),this.getPalette(t,5,e)[0]},fr.prototype.getPalette=function(t,e,r){var n=function(t){var e=t.colorCount,r=t.quality;if(void 0!==e&&Number.isInteger(e)){if(1===e)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");e=Math.max(e,2),e=Math.min(e,20)}else e=10;return(void 0===r||!Number.isInteger(r)||r<1)&&(r=10),{colorCount:e,quality:r}}({colorCount:e,quality:r}),i=new cr(t),o=function(t,e,r){for(var n=t,i=[],o=0,a=void 0,u=void 0,s=void 0,c=void 0,f=void 0;o<e;o+=r)u=n[0+(a=4*o)],s=n[a+1],c=n[a+2],(void 0===(f=n[a+3])||f>=125)&&(u>250&&s>250&&c>250||i.push([u,s,c]));return i}(i.getImageData().data,i.width*i.height,n.quality),a=sr(o,n.colorCount);return a?a.palette():null},fr.prototype.getColorFromUrl=function(t,e,r){var n=this,i=document.createElement("img");i.addEventListener("load",(function(){var o=n.getPalette(i,5,r);e(o[0],t)})),i.src=t},fr.prototype.getImageData=function(t,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){if(200==this.status){var t=new Uint8Array(this.response);i=t.length;for(var r=new Array(i),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);var o=r.join(""),a=window.btoa(o);e("data:image/png;base64,"+a)}},r.send()},fr.prototype.getColorAsync=function(t,e,r){var n=this;this.getImageData(t,(function(t){var i=document.createElement("img");i.addEventListener("load",(function(){var t=n.getPalette(i,5,r);e(t[0],this)})),i.src=t}))};var lr=fr,hr=r(33),pr=r.n(hr),gr=r(60),dr=r(97),vr=new Date,yr=new Date;function mr(t,e,r,n){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(r){return t(r=new Date(r-1)),e(r,1),t(r),r},i.round=function(t){var e=i(t),r=i.ceil(t);return t-e<r-t?e:r},i.offset=function(t,r){return e(t=new Date(+t),null==r?1:Math.floor(r)),t},i.range=function(r,n,o){var a,u=[];if(r=i.ceil(r),o=null==o?1:Math.floor(o),!(r<n&&o>0))return u;do{u.push(a=new Date(+r)),e(r,o),t(r)}while(a<r&&r<n);return u},i.filter=function(r){return mr((function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)}),(function(t,n){if(t>=t)if(n<0)for(;++n<=0;)for(;e(t,-1),!r(t););else for(;--n>=0;)for(;e(t,1),!r(t););}))},r&&(i.count=function(e,n){return vr.setTime(+e),yr.setTime(+n),t(vr),t(yr),Math.floor(r(vr,yr))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(n?function(e){return n(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}function br(t){return mr((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var wr=br(0),xr=br(1),_r=br(2),jr=br(3),Or=br(4),Ar=br(5),Er=br(6),Mr=(wr.range,xr.range,_r.range,jr.range,Or.range,Ar.range,Er.range,mr((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),Sr=Mr;Mr.range;function Tr(t){return mr((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var Cr=Tr(0),Fr=Tr(1),kr=Tr(2),Dr=Tr(3),Pr=Tr(4),Rr=Tr(5),Lr=Tr(6),Ur=(Cr.range,Fr.range,kr.range,Dr.range,Pr.range,Rr.range,Lr.range,mr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5,t=>t.getDate()-1)),Nr=Ur,Br=(Ur.range,mr((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));Br.every=function(t){return isFinite(t=Math.floor(t))&&t>0?mr((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,r){e.setFullYear(e.getFullYear()+r*t)})):null};var Ir=Br,zr=(Br.range,mr((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));zr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?mr((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r*t)})):null};var Yr=zr;zr.range;function $r(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Hr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qr(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}var Vr,Wr,Gr={"-":"",_:" ",0:"0"},Zr=/^\s*\d+/,Kr=/^%/,Xr=/[\\^$*+?|[\]().{}]/g;function Jr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function Qr(t){return t.replace(Xr,"\\$&")}function tn(t){return new RegExp("^(?:"+t.map(Qr).join("|")+")","i")}function en(t){return new Map(t.map((t,e)=>[t.toLowerCase(),e]))}function rn(t,e,r){var n=Zr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function nn(t,e,r){var n=Zr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function on(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function an(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function un(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function sn(t,e,r){var n=Zr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function cn(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function fn(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ln(t,e,r){var n=Zr.exec(e.slice(r,r+1));return n?(t.q=3*n[0]-3,r+n[0].length):-1}function hn(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function pn(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function gn(t,e,r){var n=Zr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function dn(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function vn(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function yn(t,e,r){var n=Zr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function mn(t,e,r){var n=Zr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function bn(t,e,r){var n=Zr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function wn(t,e,r){var n=Kr.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function xn(t,e,r){var n=Zr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function _n(t,e,r){var n=Zr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function jn(t,e){return Jr(t.getDate(),e,2)}function On(t,e){return Jr(t.getHours(),e,2)}function An(t,e){return Jr(t.getHours()%12||12,e,2)}function En(t,e){return Jr(1+Nr.count(Ir(t),t),e,3)}function Mn(t,e){return Jr(t.getMilliseconds(),e,3)}function Sn(t,e){return Mn(t,e)+"000"}function Tn(t,e){return Jr(t.getMonth()+1,e,2)}function Cn(t,e){return Jr(t.getMinutes(),e,2)}function Fn(t,e){return Jr(t.getSeconds(),e,2)}function kn(t){var e=t.getDay();return 0===e?7:e}function Dn(t,e){return Jr(Cr.count(Ir(t)-1,t),e,2)}function Pn(t){var e=t.getDay();return e>=4||0===e?Pr(t):Pr.ceil(t)}function Rn(t,e){return t=Pn(t),Jr(Pr.count(Ir(t),t)+(4===Ir(t).getDay()),e,2)}function Ln(t){return t.getDay()}function Un(t,e){return Jr(Fr.count(Ir(t)-1,t),e,2)}function Nn(t,e){return Jr(t.getFullYear()%100,e,2)}function Bn(t,e){return Jr((t=Pn(t)).getFullYear()%100,e,2)}function In(t,e){return Jr(t.getFullYear()%1e4,e,4)}function zn(t,e){var r=t.getDay();return Jr((t=r>=4||0===r?Pr(t):Pr.ceil(t)).getFullYear()%1e4,e,4)}function Yn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Jr(e/60|0,"0",2)+Jr(e%60,"0",2)}function $n(t,e){return Jr(t.getUTCDate(),e,2)}function Hn(t,e){return Jr(t.getUTCHours(),e,2)}function qn(t,e){return Jr(t.getUTCHours()%12||12,e,2)}function Vn(t,e){return Jr(1+Sr.count(Yr(t),t),e,3)}function Wn(t,e){return Jr(t.getUTCMilliseconds(),e,3)}function Gn(t,e){return Wn(t,e)+"000"}function Zn(t,e){return Jr(t.getUTCMonth()+1,e,2)}function Kn(t,e){return Jr(t.getUTCMinutes(),e,2)}function Xn(t,e){return Jr(t.getUTCSeconds(),e,2)}function Jn(t){var e=t.getUTCDay();return 0===e?7:e}function Qn(t,e){return Jr(wr.count(Yr(t)-1,t),e,2)}function ti(t){var e=t.getUTCDay();return e>=4||0===e?Or(t):Or.ceil(t)}function ei(t,e){return t=ti(t),Jr(Or.count(Yr(t),t)+(4===Yr(t).getUTCDay()),e,2)}function ri(t){return t.getUTCDay()}function ni(t,e){return Jr(xr.count(Yr(t)-1,t),e,2)}function ii(t,e){return Jr(t.getUTCFullYear()%100,e,2)}function oi(t,e){return Jr((t=ti(t)).getUTCFullYear()%100,e,2)}function ai(t,e){return Jr(t.getUTCFullYear()%1e4,e,4)}function ui(t,e){var r=t.getUTCDay();return Jr((t=r>=4||0===r?Or(t):Or.ceil(t)).getUTCFullYear()%1e4,e,4)}function si(){return"+0000"}function ci(){return"%"}function fi(t){return+t}function li(t){return Math.floor(+t/1e3)}Vr=function(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,c=tn(i),f=en(i),l=tn(o),h=en(o),p=tn(a),g=en(a),d=tn(u),v=en(u),y=tn(s),m=en(s),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:jn,e:jn,f:Sn,g:Bn,G:zn,H:On,I:An,j:En,L:Mn,m:Tn,M:Cn,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:fi,s:li,S:Fn,u:kn,U:Dn,V:Rn,w:Ln,W:Un,x:null,X:null,y:Nn,Y:In,Z:Yn,"%":ci},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:$n,e:$n,f:Gn,g:oi,G:ui,H:Hn,I:qn,j:Vn,L:Wn,m:Zn,M:Kn,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:fi,s:li,S:Xn,u:Jn,U:Qn,V:ei,w:ri,W:ni,x:null,X:null,y:ii,Y:ai,Z:si,"%":ci},x={a:function(t,e,r){var n=p.exec(e.slice(r));return n?(t.w=g.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(t,e,r){var n=l.exec(e.slice(r));return n?(t.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(t,e,r){var n=y.exec(e.slice(r));return n?(t.m=m.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(t,e,r){var n=d.exec(e.slice(r));return n?(t.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(t,r,n){return O(t,e,r,n)},d:pn,e:pn,f:bn,g:cn,G:sn,H:dn,I:dn,j:gn,L:mn,m:hn,M:vn,p:function(t,e,r){var n=c.exec(e.slice(r));return n?(t.p=f.get(n[0].toLowerCase()),r+n[0].length):-1},q:ln,Q:xn,s:_n,S:yn,u:nn,U:on,V:an,w:rn,W:un,x:function(t,e,n){return O(t,r,e,n)},X:function(t,e,r){return O(t,n,e,r)},y:cn,Y:sn,Z:fn,"%":wn};function _(t,e){return function(r){var n,i,o,a=[],u=-1,s=0,c=t.length;for(r instanceof Date||(r=new Date(+r));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=Gr[n=t.charAt(++u)])?n=t.charAt(++u):i="e"===n?" ":"0",(o=e[n])&&(n=o(r,i)),a.push(n),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function j(t,e){return function(r){var n,i,o=qr(1900,void 0,1);if(O(o,t,r+="",0)!=r.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(n=Hr(qr(o.y,0,1))).getUTCDay(),n=i>4||0===i?xr.ceil(n):xr(n),n=Sr.offset(n,7*(o.V-1)),o.y=n.getUTCFullYear(),o.m=n.getUTCMonth(),o.d=n.getUTCDate()+(o.w+6)%7):(i=(n=$r(qr(o.y,0,1))).getDay(),n=i>4||0===i?Fr.ceil(n):Fr(n),n=Nr.offset(n,7*(o.V-1)),o.y=n.getFullYear(),o.m=n.getMonth(),o.d=n.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Hr(qr(o.y,0,1)).getUTCDay():$r(qr(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Hr(o)):$r(o)}}function O(t,e,r,n){for(var i,o,a=0,u=e.length,s=r.length;a<u;){if(n>=s)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in Gr?e.charAt(a++):i])||(n=o(t,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}return b.x=_(r,b),b.X=_(n,b),b.c=_(e,b),w.x=_(r,w),w.X=_(n,w),w.c=_(e,w),{format:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=j(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=j(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Wr=Vr.format,Vr.parse,Vr.utcFormat,Vr.utcParse;var hi=Math.sqrt(50),pi=Math.sqrt(10),gi=Math.sqrt(2);function di(t,e,r){var n=(e-t)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,i);return i>=0?(o>=hi?10:o>=pi?5:o>=gi?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=hi?10:o>=pi?5:o>=gi?2:1)}var vi=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},yi=function(t){let e=t,r=t;function n(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){const o=n+i>>>1;r(t[o],e)<0?n=o+1:i=o}return n}return 1===t.length&&(e=(e,r)=>t(e)-r,r=function(t){return(e,r)=>vi(t(e),r)}(t)),{left:n,center:function(t,r,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=n(t,r,i,o-1);return a>i&&e(t[a-1],r)>-e(t[a],r)?a-1:a},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){const o=n+i>>>1;r(t[o],e)>0?i=o:n=o+1}return n}}};const mi=yi(vi),bi=mi.right;mi.left,yi((function(t){return null===t?NaN:+t})).center;var wi=bi,xi=function(t,e,r){t.prototype=e.prototype=r,r.constructor=t};function _i(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ji(){}var Oi="\\s*([+-]?\\d+)\\s*",Ai="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ei="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mi=/^#([0-9a-f]{3,8})$/,Si=new RegExp("^rgb\\("+[Oi,Oi,Oi]+"\\)$"),Ti=new RegExp("^rgb\\("+[Ei,Ei,Ei]+"\\)$"),Ci=new RegExp("^rgba\\("+[Oi,Oi,Oi,Ai]+"\\)$"),Fi=new RegExp("^rgba\\("+[Ei,Ei,Ei,Ai]+"\\)$"),ki=new RegExp("^hsl\\("+[Ai,Ei,Ei]+"\\)$"),Di=new RegExp("^hsla\\("+[Ai,Ei,Ei,Ai]+"\\)$"),Pi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ri(){return this.rgb().formatHex()}function Li(){return this.rgb().formatRgb()}function Ui(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Mi.exec(t))?(r=e[1].length,e=parseInt(e[1],16),6===r?Ni(e):3===r?new Yi(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===r?Bi(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===r?Bi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Si.exec(t))?new Yi(e[1],e[2],e[3],1):(e=Ti.exec(t))?new Yi(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ci.exec(t))?Bi(e[1],e[2],e[3],e[4]):(e=Fi.exec(t))?Bi(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ki.exec(t))?Vi(e[1],e[2]/100,e[3]/100,1):(e=Di.exec(t))?Vi(e[1],e[2]/100,e[3]/100,e[4]):Pi.hasOwnProperty(t)?Ni(Pi[t]):"transparent"===t?new Yi(NaN,NaN,NaN,0):null}function Ni(t){return new Yi(t>>16&255,t>>8&255,255&t,1)}function Bi(t,e,r,n){return n<=0&&(t=e=r=NaN),new Yi(t,e,r,n)}function Ii(t){return t instanceof ji||(t=Ui(t)),t?new Yi((t=t.rgb()).r,t.g,t.b,t.opacity):new Yi}function zi(t,e,r,n){return 1===arguments.length?Ii(t):new Yi(t,e,r,null==n?1:n)}function Yi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function $i(){return"#"+qi(this.r)+qi(this.g)+qi(this.b)}function Hi(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function qi(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Vi(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Gi(t,e,r,n)}function Wi(t){if(t instanceof Gi)return new Gi(t.h,t.s,t.l,t.opacity);if(t instanceof ji||(t=Ui(t)),!t)return new Gi;if(t instanceof Gi)return t;var e=(t=t.rgb()).r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=NaN,u=o-i,s=(o+i)/2;return u?(a=e===o?(r-n)/u+6*(r<n):r===o?(n-e)/u+2:(e-r)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Gi(a,u,s,t.opacity)}function Gi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function Zi(t,e,r){return 255*(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)}function Ki(t,e,r,n,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*r+(1+3*t+3*o-3*a)*n+a*i)/6}xi(ji,Ui,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ri,formatHex:Ri,formatHsl:function(){return Wi(this).formatHsl()},formatRgb:Li,toString:Li}),xi(Yi,zi,_i(ji,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Yi(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Yi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$i,formatHex:$i,formatRgb:Hi,toString:Hi})),xi(Gi,(function(t,e,r,n){return 1===arguments.length?Wi(t):new Gi(t,e,r,null==n?1:n)}),_i(ji,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Gi(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Gi(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Yi(Zi(t>=240?t-240:t+120,i,n),Zi(t,i,n),Zi(t<120?t+240:t-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Xi=t=>()=>t;function Ji(t,e){return function(r){return t+r*e}}function Qi(t){return 1==(t=+t)?to:function(e,r){return r-e?function(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}(e,r,t):Xi(isNaN(e)?r:e)}}function to(t,e){var r=e-t;return r?Ji(t,r):Xi(isNaN(t)?e:t)}var eo=function t(e){var r=Qi(e);function n(t,e){var n=r((t=zi(t)).r,(e=zi(e)).r),i=r(t.g,e.g),o=r(t.b,e.b),a=to(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return n.gamma=t,n}(1);function ro(t){return function(e){var r,n,i=e.length,o=new Array(i),a=new Array(i),u=new Array(i);for(r=0;r<i;++r)n=zi(e[r]),o[r]=n.r||0,a[r]=n.g||0,u[r]=n.b||0;return o=t(o),a=t(a),u=t(u),n.opacity=1,function(t){return n.r=o(t),n.g=a(t),n.b=u(t),n+""}}}ro((function(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),i=t[n],o=t[n+1],a=n>0?t[n-1]:2*i-o,u=n<e-1?t[n+2]:2*o-i;return Ki((r-n/e)*e,a,i,o,u)}})),ro((function(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),i=t[(n+e-1)%e],o=t[n%e],a=t[(n+1)%e],u=t[(n+2)%e];return Ki((r-n/e)*e,i,o,a,u)}}));var no=function(t,e){e||(e=[]);var r,n=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(r=0;r<n;++r)i[r]=t[r]*(1-o)+e[r]*o;return i}};function io(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function oo(t,e){var r,n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),a=new Array(n);for(r=0;r<i;++r)o[r]=ho(t[r],e[r]);for(;r<n;++r)a[r]=e[r];return function(t){for(r=0;r<i;++r)a[r]=o[r](t);return a}}var ao=function(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}},uo=function(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}},so=function(t,e){var r,n={},i={};for(r in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)r in t?n[r]=ho(t[r],e[r]):i[r]=e[r];return function(t){for(r in n)i[r]=n[r](t);return i}},co=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fo=new RegExp(co.source,"g");var lo=function(t,e){var r,n,i,o=co.lastIndex=fo.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(r=co.exec(t))&&(n=fo.exec(e));)(i=n.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(r=r[0])===(n=n[0])?u[a]?u[a]+=n:u[++a]=n:(u[++a]=null,s.push({i:a,x:uo(r,n)})),o=fo.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var r,n=0;n<e;++n)u[(r=s[n]).i]=r.x(t);return u.join("")})},ho=function(t,e){var r,n=typeof e;return null==e||"boolean"===n?Xi(e):("number"===n?uo:"string"===n?(r=Ui(e))?(e=r,eo):lo:e instanceof Ui?eo:e instanceof Date?ao:io(e)?no:Array.isArray(e)?oo:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?so:uo)(t,e)},po=function(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}};function go(t){return+t}var vo=[0,1];function yo(t){return t}function mo(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:(r=isNaN(e)?NaN:.5,function(){return r});var r}function bo(t,e,r){var n=t[0],i=t[1],o=e[0],a=e[1];return i<n?(n=mo(i,n),o=r(a,o)):(n=mo(n,i),o=r(o,a)),function(t){return o(n(t))}}function wo(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=mo(t[a],t[a+1]),o[a]=r(e[a],e[a+1]);return function(e){var r=wi(t,e,1,n)-1;return o[r](i[r](e))}}function xo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _o(){var t,e,r,n,i,o,a=vo,u=vo,s=ho,c=yo;function f(){var t=Math.min(a.length,u.length);return c!==yo&&(c=function(t,e){var r;return t>e&&(r=t,t=e,e=r),function(r){return Math.max(t,Math.min(e,r))}}(a[0],a[t-1])),n=t>2?wo:bo,i=o=null,l}function l(e){return isNaN(e=+e)?r:(i||(i=n(a.map(t),u,s)))(t(c(e)))}return l.invert=function(r){return c(e((o||(o=n(u,a.map(t),uo)))(r)))},l.domain=function(t){return arguments.length?(a=Array.from(t,go),f()):a.slice()},l.range=function(t){return arguments.length?(u=Array.from(t),f()):u.slice()},l.rangeRound=function(t){return u=Array.from(t),s=po,f()},l.clamp=function(t){return arguments.length?(c=!!t||yo,f()):c!==yo},l.interpolate=function(t){return arguments.length?(s=t,f()):s},l.unknown=function(t){return arguments.length?(r=t,l):r},function(r,n){return t=r,e=n,f()}}function jo(){return _o()(yo,yo)}function Oo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Ao=r(52),Eo=r(10);function Mo(t,e,r,n){var i,o=function(t,e,r){var n=Math.abs(e-t)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/i;return o>=hi?i*=10:o>=pi?i*=5:o>=gi&&(i*=2),e<t?-i:i}(t,e,r);switch((n=Object(Ao.a)(null==n?",f":n)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=n.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(Eo.a)(e)/3)))-Object(Eo.a)(Math.abs(t)))}(o,a))||(n.precision=i),Object(dr.b)(n,a);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Object(Eo.a)(e)-Object(Eo.a)(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=function(t){return Math.max(0,-Object(Eo.a)(Math.abs(t)))}(o))||(n.precision=i-2*("%"===n.type))}return Object(dr.a)(n)}function So(t){var e=t.domain;return t.ticks=function(t){var r=e();return function(t,e,r){var n,i,o,a,u=-1;if(r=+r,(t=+t)===(e=+e)&&r>0)return[t];if((n=e<t)&&(i=t,t=e,e=i),0===(a=di(t,e,r))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(a=-a,t=Math.ceil(t*a),e=Math.floor(e*a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)/a;return n&&o.reverse(),o}(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,r){var n=e();return Mo(n[0],n[n.length-1],null==t?10:t,r)},t.nice=function(r){null==r&&(r=10);var n,i,o=e(),a=0,u=o.length-1,s=o[a],c=o[u],f=10;for(c<s&&(i=s,s=c,c=i,i=a,a=u,u=i);f-- >0;){if((i=di(s,c,r))===n)return o[a]=s,o[u]=c,e(o);if(i>0)s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i}n=i}return t},t}function To(){var t=jo();return t.copy=function(){return xo(t,To())},Oo.apply(t,arguments),So(t)}var Co=function(t){return t};function Fo(t,...e){return ko(t,Co,Co,e)}function ko(t,e,r,n){return function t(i,o){if(o>=n.length)return r(i);const a=new Map,u=n[o++];let s=-1;for(const t of i){const e=u(t,++s,i),r=a.get(e);r?r.push(t):a.set(e,[t])}for(const[e,r]of a)a.set(e,t(r,o));return e(a)}(t,0)}var Do=r(95),Po=function(t,e){let r,n;if(void 0===e)for(const e of t)null!=e&&(void 0===r?e>=e&&(r=n=e):(r>e&&(r=e),n<e&&(n=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===r?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)))}return[r,n]};function Ro(t,e){let r;if(void 0===e)for(const e of t)null!=e&&(r<e||void 0===r&&e>=e)&&(r=e);else{let n=-1;for(let i of t)null!=(i=e(i,++n,t))&&(r<i||void 0===r&&i>=i)&&(r=i)}return r}function Lo(t,e){let r=0,n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++r,n+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++r,n+=o)}if(r)return n/r}(function t(e){function r(t){return Math.pow(t,e)}return e=+e,r.exponent=t,r})(3);var Uo=function t(e){function r(t){return 1-Math.pow(1-t,e)}return e=+e,r.exponent=t,r}(3),No=function t(e){function r(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,r.exponent=t,r}(3);class Bo extends gr.a{constructor(t={}){super(),this.imagePath="image/",this.language="zh-CN",this.width=1366,this.height=768,this.frameRate=30,this.outerMargin={left:10,right:10,top:10,bottom:10},this.freeze=0,"undefined"==typeof window?this.colorThief=lr:this.colorThief=new ar.a,this.interval=1,this.barRedius=4,this.itemCount=22,this.labelPandding=10,this.axisTextSize=20,this.tickNumber=6,this.dateLabelSize=48,this.slogenSize=24,this.output=!1,this.outputName="out",this.idField="id",this.keyFrameDeltaTime=void 0,this.colorData=[],this.barInfo=t=>null!=t.name?null!=t.type?`${t.type} - ${t.name}`:""+t.name:t[this.idField],this.xDomain=t=>[0,t.max],this.sort=1,this.valueFormat=t=>{let e=t.value;return null==e&&(e=t),String(t).indexOf(".")>-1?""+Object(dr.a)(",.2f")(e):""+Object(dr.a)(",d")(e)},this.tickFormat=t=>new Intl.NumberFormat(this.language,{notation:"compact"}).format(t),this.dateFormat="%Y-%m-%d %H:%M",this.listImageSrc=()=>[],this.imageData={},this.colorScheme={background:"#1E1E1E",colors:["#27C","#FB0","#FFF","#2C8","#D23","#0CE","#E8A","#DDA","#C86","#F72","#C8C","#BCA","#F27"]},this.useCtl=!1,this.colorGener=function*(t){let e=0;for(;;)yield t.colors[e++%t.colors.length]}(this.colorScheme),this.numberKey=new Set,this.ready=!1,this.innerMargin={left:this.outerMargin.left,right:this.outerMargin.right,top:this.outerMargin.top,bottom:this.outerMargin.bottom},this.drawBarExt=()=>{},this.drawExt=()=>{},this.setOptions(t),this.barHeight=Math.round((this.height-this.innerMargin.top-this.innerMargin.bottom)/this.itemCount*.8)}async loadMetaData(t){let e=await this.readCsv(t);e=e.reduce((t,e)=>(t[e[this.idField]]={...e},t),{}),null!=e&&(this.metaData=e)}async readCsv(t){return"undefined"==typeof window?x(pr.a.readFileSync(t).toString()):"object"==typeof t?M(t.default):await M(t)}async loadCsv(t){this.data=[];let e=await this.readCsv(t),r=[...Fo(e,t=>t.date).keys()].map(t=>60*(new Date).getTimezoneOffset()*1e3+new Date(t).getTime()).sort((t,e)=>t-e),n=(()=>{let t=1/0;for(let e=1;e<r.length;e++){const n=r[e],i=r[e-1];n-i<t&&(t=n-i)}return t})();null!=this.keyFrameDeltaTime&&(n=1e3*this.keyFrameDeltaTime);let i=r[0],o=r[r.length-1];r=Object(Do.a)(i,o+1,n);let a=this.frameRate*this.interval*(r.length-1);this.getCurrentDate=To().domain([0,a-1]).range([i,o]).clamp(!0),e.forEach(t=>{null==this.id&&(this.id=t.name),t.date=60*(new Date).getTimezoneOffset()*1e3+new Date(t.date).getTime(),t.value=+t.value});let u=Fo(e,t=>t[this.idField],t=>t.date);for(let[t,e]of u){let n=[...e.keys()].sort((t,e)=>t-e),i=[...e.values()].map(t=>t[0]).sort((t,e)=>t.date-e.date),o={};B(i[0]).forEach(e=>{i[0][e]!=t&&Number(i[0][e])==Number(i[0][e])&&0!=Number(i[0][e])&&(this.numberKey.add(e),o[e]=To().domain(n).range(i.map(t=>t[e])))});let a=i[0];for(let t=0;t<r.length;t++){null!=i[t]&&(a=i[t]);let e=r[t];e<=n[n.length-1]&&e>=n[0]?(a={...a},B(o).forEach(t=>{a[t]=o[t](Number(e))}),a.date=e):(a={...a},B(o).forEach(t=>{a[t]=NaN}),a.date=e),this.data.push(a)}}this.keyFramesCount=r.length,this.setKeyFramesInfo(),this.tsToFi=To().domain(Po(r)).range([0,this.totalTrueFrames]).clamp(!0),this.fiToTs=To().range(Po(r)).domain([0,this.totalTrueFrames]).clamp(!0)}calculateFrameData(t){let e=[],r=new Set;this.maxValue=-1/0,this.minValue=1/0;let n=Fo(t,t=>t[this.idField]);for(let[t,i]of n){r.add(t),i.sort((t,e)=>t.date-e.date);for(let t=0;t<i.length-1;t++){const r=i[t],n=i[t+1];let o=_e([...this.numberKey],(t,e)=>(t[e]={lValue:null==r[e]?NaN:r[e],rValue:null==n[e]?NaN:n[e]},t),{});const a=null==r.value?NaN:r.value,u=null==n.value?NaN:n.value,s=r.date,c=n.date;let f="normal";a!=a&&u!=u?f="null":a!=a&&u==u?f="in":a==a&&u!=u&&(f="out"),B(o).forEach(t=>{o[t].int=To().range([o[t].lValue,o[t].rValue]).domain([0,1]).clamp(!0)});let l=uo(1,1),h=()=>0;switch(f){case"null":l=uo(0,0);break;case"out":h=To().domain([0,1]).range([0,1]).clamp(!0),B(o).forEach(t=>{o[t].int=uo(o[t].lValue,.1*o[t].lValue)}),l=To().domain([0,.4]).range([1,0]).clamp(!0);break;case"in":B(o).forEach(t=>{o[t].int=uo(.3*o[t].rValue,o[t].rValue)}),l=To().domain([0,.2]).range([0,1]).clamp(!0),h=To().domain([.2,1]).range([1,0]).clamp(!0)}null==this.colorData[this.colorKey(r,this.metaData,this)]&&(this.colorData[this.colorKey(r,this.metaData,this)]=this.colorGener.next().value);for(let t of Object(Do.a)(Math.round(this.tsToFi(s)),Math.round(this.tsToFi(c)))){null==e[t]&&(e[t]=[]);let n=t%(this.frameRate*this.interval)/(this.frameRate*this.interval),i=o.value.int(n),a=l(Uo(n));if(0==a&&"out"!=f)continue;let u=h(Uo(n)),s={...r,alpha:a,state:f,pos:u};B(o).forEach(t=>{s[t]=o[t].int(n)}),e[t].push(s),i>this.maxValue&&(this.maxValue=i,this.maxData=s),i<this.maxValue&&(this.minValue=i,this.minData=s),null==e[t].max&&(e[t].max=i),e[t].max<i&&(e[t].max=i),null==e[t].min&&(e[t].min=i),e[t].min>i&&(e[t].min=i)}}}e.forEach(t=>{t.sort((t,e)=>null==t.value||"out"==t.state||"null"==t.state?1:null==e.value||"out"==e.state||"null"==e.state?-1:this.sort*(e.value-t.value)),t.forEach((t,e)=>{"out"==t.state||"null"==t.state?t.rank=this.itemCount+1:t.rank=e})}),this.frameData=e,this.idSet=r}setKeyFramesInfo(){this.totalTrueFrames=(this.keyFramesCount-1)*this.frameRate*this.interval,this.keyFrames=Object(Do.a)(0,this.totalTrueFrames,this.frameRate*this.interval)}async preRender(){await this.hintText("Loading Layout",this),this.innerMargin.top+=this.axisTextSize,this.ctx.font=this.barHeight+"px Sarasa Mono SC",this.innerMargin.left+=this.labelPandding;let t=this.ctx.measureText(this.valueFormat(this.maxData)).width,e=this.ctx.measureText(this.valueFormat(this.minData)).width;this.innerMargin.right+=Ro([t,e]),this.innerMargin.right+=this.labelPandding;let r=Ro(this.frameData,t=>Ro(t,t=>this.ctx.measureText(this.label(t,this.metaData,this)).width));this.innerMargin.left+=r,this.currentFrame=0,this.ctx.drawBar=(t,e)=>{this.ctx.fillStyle="#999";let r=this.getColor(t),n=e.xScale(t.value),i=this.barRedius>n/2?n/2:this.barRedius,o=null==this.imageData[t[this.idField]]?0:this.barHeight;this.ctx.globalAlpha=t.alpha;let a=this.innerMargin.left,u=e.yScale(t.pos);this.ctx.fillStyle=r,this.ctx.radiusRect(a,u,n,this.barHeight,i),this.ctx.fillStyle=r,this.ctx.font=`900 ${this.barHeight}px Sarasa Mono SC`,this.ctx.textAlign="right",this.ctx.fillText(this.label(t,this.metaData,this),a-this.labelPandding,u+.88*this.barHeight),this.ctx.textAlign="left",this.ctx.fillText(this.valueFormat(t),n+a+this.labelPandding,u+.88*this.barHeight),this.ctx.save(),this.ctx.beginPath(),this.ctx.radiusArea(a,u,n,this.barHeight,i),this.ctx.clip(),this.ctx.closePath(),this.ctx.textAlign="right",this.ctx.fillStyle=this.colorScheme.background,this.ctx.font=`900 ${this.barHeight}px Sarasa Mono SC`,this.ctx.fillText(this.barInfo(t,this.metaData,this),n+a-this.labelPandding-o,u+.88*this.barHeight),this.ctx.drawClipedImg(this.imageData[t[this.idField]],a+e.xScale(t.value)-this.barHeight,u,this.barHeight,this.barHeight,4),this.ctx.restore(),this.drawBarExt(this.ctx,t,e,this),this.ctx.globalAlpha=1}}async autoGetColorFromImage(t,e){const r=(t,e,r)=>"#"+[t,e,r].map(t=>{const e=t.toString(16);return 1===e.length?"0"+e:e}).join("");if(null==this.colorData[t])if("undefined"==typeof window){let n=await this.colorThief.getColor(e);this.colorData[t]=r(...n)}else if(this.imageData[t].complete){let e=this.colorThief.getColor(this.imageData[t]);this.colorData[t]=r(...e)}else this.imageData[t].addEventListener("load",()=>{let e=this.colorThief.getColor(this.imageData[t]);this.colorData[t]=r(...e)})}calPosition(t,e){for(let t of Object(Do.a)(this.freeze+this.frameRate*this.interval))e.push(ir(e[this.totalTrueFrames-1])),e[e.length-1].max=e[this.totalTrueFrames-1].max,e[e.length-1].min=e[this.totalTrueFrames-1].min;let r=[...t].reduce((t,r)=>{let n=e.map(t=>{for(let e of t)if(e[this.idField]==r)return e.rank});for(let t=1;t<n.length-1;t++)n[t-1]==n[t+1]&&(n[t]=n[t-1]);n[0]!=n[1]&&(n[0]=n[1]);let i=[];for(let t=0;t<n.length;t++){let e=this.frameRate*this.interval/7,r=Lo(n.slice(t-e>0?t-e:0,t+e));i[t]=No.exponent(1.5)(r%1)+Math.floor(r)}return t[r]=i,t},{});for(let t=0;t<e.length;t++){const n=e[t];for(let e=0;e<n.length;e++){const i=n[e];i.pos+=r[i[this.idField]][t]}}}getKeyFrame(t){let e=t/(this.interval*this.frameRate);return[Math.floor(e),Math.ceil(e)]}calScale(){this.tickArrays=this.keyFrames.map(t=>To().domain(this.xDomain(this.frameData[t])).range([0,this.width-this.innerMargin.left-this.innerMargin.right]).ticks(this.tickNumber)),this.frameData.forEach((t,e)=>{t.yScale=To().domain([0,this.itemCount]).range([this.innerMargin.top,this.height-this.innerMargin.bottom]),t.xScale=To().domain(this.xDomain(t)).range([0,this.width-this.innerMargin.left-this.innerMargin.right])})}drawAxis(t,e){let r=e.xScale,n=t/(this.interval*this.frameRate),[i,o]=this.getKeyFrame(t);for(;i>=this.tickArrays.length;)i-=1;o>=this.tickArrays.length&&(o=i);let a=No.exponent(10)(n%1),u=this.tickArrays[i],s=this.tickArrays[o];this.ctx.globalAlpha=Ro(u)==Ro(s)?1:a,this.ctx.font=this.axisTextSize+"px Sarasa Mono SC",this.ctx.fillStyle="#888",this.ctx.strokeStyle="#888",this.ctx.lineWidth=2,this.ctx.textAlign="center",s.forEach(t=>{this.drawTick(r,t),this.ctx.fillText(this.tickFormat(t),this.innerMargin.left+r(t),this.axisTextSize)}),this.ctx.globalAlpha=Ro(u)==Ro(s)?1:1-a,u.forEach(t=>{this.drawTick(r,t),this.ctx.fillText(this.tickFormat(t),this.innerMargin.left+r(t),this.axisTextSize)}),this.ctx.globalAlpha=1,this.ctx.lineWidth=0}drawTick(t,e){this.ctx.beginPath(),this.ctx.moveTo(this.innerMargin.left+t(e),this.innerMargin.top),this.ctx.lineTo(this.innerMargin.left+t(e),this.height-this.innerMargin.bottom),this.ctx.stroke()}drawWatermark(){this.ctx.textAlign="right",this.ctx.font=this.slogenSize+"px Sarasa Mono SC",this.ctx.fillStyle="#fff4",this.ctx.fillText("Powered by Jannchie Studio",this.width-this.outerMargin.left,this.height-this.outerMargin.bottom)}async drawFrame(t){this.ctx.clearRect(0,0,this.width,this.height);let e=this.frameData[t];this.drawBackground(),this.drawWatermark(),this.drawAxis(t,e),this.drawDate(t),e.forEach(t=>{this.ctx.drawBar(t,e)}),this.drawExt(this.ctx,e,this)}drawDate(t){let e=this.getCurrentDate(t);this.ctx.textAlign="right",this.ctx.font=this.dateLabelSize+"px Sarasa Mono SC",this.ctx.fillStyle="#fff4",this.ctx.fillText(Wr(this.dateFormat)(new Date(e)),this.width-this.outerMargin.left,this.height-this.outerMargin.bottom-this.slogenSize-4)}drawBackground(){this.ctx.fillStyle=this.colorScheme.background,this.ctx.fillRect(0,0,this.width,this.height)}downloadBlob(t,e="untitled.mp4"){var r=URL.createObjectURL(t),n=document.createElement("a");document.body.appendChild(n),n.style="display: none",n.href=r,n.download=""+e,n.click(),window.URL.revokeObjectURL(r)}calRenderSort(){for(let t=0;t<this.frameData.length;t++){const e=this.frameData[t];let r=t==this.frameData.length-1?t:t+1,n=this.frameData[r].reduce((t,e)=>(t[e[this.idField]]=e.pos,t),{});e.sort((t,e)=>n[t[this.idField]]-t.pos<0||n[e[this.idField]]-e.pos>0?1:-1)}}async fixAlpha(){for(let t of this.frameData)for(let e of t)if(e.pos>this.itemCount-1){let t=To().domain([0,1]).range([1,0]).clamp(!0)(e.pos-this.itemCount+1);e.alpha>t&&(e.alpha=t)}}}var Io=Bo,zo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yo=function(t){function e(e){return t.call(this,e)||this}return zo(e,t),e.prototype.preRender=function(e){t.prototype.preRender.call(this,e),this._text=this.getValue(this.text,e),this._offset=this.getValue(this.offset,e),this.ani.ctx.translate(this._offset.x,this._offset.y),this.ani.ctx.fillStyle=this.fillStyle,this.ani.ctx.font=this.fontSize+"px "+this.font},e.prototype.render=function(t){this.ani.ctx.fillText(this._text,0,0)},e}(a),$o=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ho=function(t){function e(e){return t.call(this,e)||this}return $o(e,t),e.prototype.reset=function(e){if(t.prototype.reset.call(this,e),void 0!==e.time){var r=null!=e.fade?e.fade:0,n=null!=e.last?e.last:2;this.alpha=To([e.time-r,e.time,e.time+n,e.time+n+r],[0,1,1,0]).clamp(!0)}},e}(Yo),qo=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vo=function(t){function e(e){return t.call(this,e)||this}return qo(e,t),e.prototype.reset=function(e){t.prototype.reset.call(this,e),this._blur=e.blur?e.blur:10},e.prototype.preRender=function(e){t.prototype.preRender.call(this,e)},e.prototype.render=function(e){this.ani.ctx.filter="blur("+(1-this._alpha)*this._blur+"px)",t.prototype.render.call(this,e)},e}(Ho),Wo=(function t(e){function r(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,r.overshoot=t,r}(1.70158),function t(e){function r(t){return--t*t*((t+1)*e+t)+1}return e=+e,r.overshoot=t,r}(1.70158)),Go=(function t(e){function r(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,r.overshoot=t,r}(1.70158),function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Zo=function(t){function e(e){return t.call(this,e)||this}return Go(e,t),e.prototype.reset=function(e){t.prototype.reset.call(this,e),null==e.offsetY&&(e.offsetY=20),e.reverse&&(e.offsetY=-e.offsetY),this.offsetYFunc=To([0,1],[e.offsetY,0])},e.prototype.preRender=function(e){t.prototype.preRender.call(this,e),this.offsetY=this.offsetYFunc(Wo(this._alpha))},e.prototype.render=function(t){this.ani.ctx.fillText(this._text,0,this.offsetY)},e}(Ho);e.default={Scene:F,Bar:Io,Text:Yo,Base:a,BlurText:Vo,FadeText:Ho,RiseText:Zo,Group:s,TextLines:f}},function(t,e,r){"use strict";e.a=function(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((e-t)/r)),o=new Array(i);++n<i;)o[n]=t+n*r;return o}},function(t,e,r){"use strict";var n=r(11),i=r(28),o=r(8);var a=function(t,e,r){(void 0!==r&&!Object(o.a)(t[e],r)||void 0===r&&!(e in t))&&Object(i.a)(t,e,r)},u=r(45),s=r(41),c=r(42),f=r(40),l=r(47),h=r(20),p=r(0),g=r(7),d=r(2);var v=function(t){return Object(d.a)(t)&&Object(g.a)(t)},y=r(12),m=r(24),b=r(3),w=r(6),x=r(31),_=Function.prototype,j=Object.prototype,O=_.toString,A=j.hasOwnProperty,E=O.call(Object);var M=function(t){if(!Object(d.a)(t)||"[object Object]"!=Object(w.a)(t))return!1;var e=Object(x.a)(t);if(null===e)return!0;var r=A.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&O.call(r)==E},S=r(34);var T=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},C=r(9),F=r(17);var k=function(t){return Object(C.a)(t,Object(F.a)(t))};var D=function(t,e,r,n,i,o,u){var g=T(t,r),d=T(e,r),w=u.get(d);if(w)a(t,r,w);else{var x=o?o(g,d,r+"",t,e,u):void 0,_=void 0===x;if(_){var j=Object(p.a)(d),O=!j&&Object(y.a)(d),A=!j&&!O&&Object(S.a)(d);x=d,j||O||A?Object(p.a)(g)?x=g:v(g)?x=Object(f.a)(g):O?(_=!1,x=Object(s.a)(d,!0)):A?(_=!1,x=Object(c.a)(d,!0)):x=[]:M(d)||Object(h.a)(d)?(x=g,Object(h.a)(g)?x=k(g):Object(b.a)(g)&&!Object(m.a)(g)||(x=Object(l.a)(d))):_=!1}_&&(u.set(d,x),i(x,d,n,o,u),u.delete(d)),a(t,r,x)}};var P=function t(e,r,i,o,s){e!==r&&Object(u.a)(r,(function(u,c){if(s||(s=new n.a),Object(b.a)(u))D(e,r,c,i,t,o,s);else{var f=o?o(T(e,c),u,c+"",e,r,s):void 0;void 0===f&&(f=u),a(e,c,f)}}),F.a)},R=r(25);var L=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},U=Math.max;var N=function(t,e,r){return e=U(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=U(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=n[i];return u[e]=r(a),L(t,this,u)}};var B=function(t){return function(){return t}},I=r(35),z=I.a?function(t,e){return Object(I.a)(t,"toString",{configurable:!0,enumerable:!1,value:B(e),writable:!0})}:R.a,Y=Date.now;var $=function(t){var e=0,r=0;return function(){var n=Y(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(z);var H=function(t,e){return $(N(t,e,R.a),t+"")},q=r(27);var V=function(t,e,r){if(!Object(b.a)(r))return!1;var n=typeof e;return!!("number"==n?Object(g.a)(r)&&Object(q.a)(e,r.length):"string"==n&&e in r)&&Object(o.a)(r[e],t)};var W=function(t){return H((function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&V(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var u=r[n];u&&t(e,u,n,o)}return e}))}((function(t,e,r){P(t,e,r)}));e.a=W},function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a}));var n,i,o,a,u=r(10),s=r(52),c=r(13),f=function(t,e){var r=Object(c.b)(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")},l={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:c.a,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>f(100*t,e),r:f,s:function(t,e){var r=Object(c.b)(t,e);if(!r)return t+"";var i=r[0],o=r[1],a=o-(n=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,u=i.length;return a===u?i:a>u?i+new Array(a-u+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Object(c.b)(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)},h=function(t){return t},p=Array.prototype.map,g=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];i=function(t){var e,r,i=void 0===t.grouping||void 0===t.thousands?h:(e=p.call(t.grouping,Number),r=t.thousands+"",function(t,n){for(var i=t.length,o=[],a=0,u=e[0],s=0;i>0&&u>0&&(s+u+1>n&&(u=Math.max(1,n-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>n));)u=e[a=(a+1)%e.length];return o.reverse().join(r)}),o=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",c=void 0===t.decimal?".":t.decimal+"",f=void 0===t.numerals?h:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(p.call(t.numerals,String)),d=void 0===t.percent?"%":t.percent+"",v=void 0===t.minus?"":t.minus+"",y=void 0===t.nan?"NaN":t.nan+"";function m(t){var e=(t=Object(s.a)(t)).fill,r=t.align,u=t.sign,h=t.symbol,p=t.zero,m=t.width,b=t.comma,w=t.precision,x=t.trim,_=t.type;"n"===_?(b=!0,_="g"):l[_]||(void 0===w&&(w=12),x=!0,_="g"),(p||"0"===e&&"="===r)&&(p=!0,e="0",r="=");var j="$"===h?o:"#"===h&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",O="$"===h?a:/[%p]/.test(_)?d:"",A=l[_],E=/[defgprs%]/.test(_);function M(t){var o,a,s,l=j,h=O;if("c"===_)h=A(t)+h,t="";else{var d=(t=+t)<0||1/t<0;if(t=isNaN(t)?y:A(Math.abs(t),w),x&&(t=function(t){t:for(var e,r=t.length,n=1,i=-1;n<r;++n)switch(t[n]){case".":i=e=n;break;case"0":0===i&&(i=n),e=n;break;default:if(!+t[n])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),d&&0==+t&&"+"!==u&&(d=!1),l=(d?"("===u?u:v:"-"===u||"("===u?"":u)+l,h=("s"===_?g[8+n/3]:"")+h+(d&&"("===u?")":""),E)for(o=-1,a=t.length;++o<a;)if(48>(s=t.charCodeAt(o))||s>57){h=(46===s?c+t.slice(o+1):t.slice(o))+h,t=t.slice(0,o);break}}b&&!p&&(t=i(t,1/0));var M=l.length+t.length+h.length,S=M<m?new Array(m-M+1).join(e):"";switch(b&&p&&(t=i(S+t,S.length?m-h.length:1/0),S=""),r){case"<":t=l+t+h+S;break;case"=":t=l+S+t+h;break;case"^":t=S.slice(0,M=S.length>>1)+l+t+h+S.slice(M);break;default:t=S+l+t+h}return f(t)}return w=void 0===w?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w)),M.toString=function(){return t+""},M}return{format:m,formatPrefix:function(t,e){var r=m(((t=Object(s.a)(t)).type="f",t)),n=3*Math.max(-8,Math.min(8,Math.floor(Object(u.a)(e)/3))),i=Math.pow(10,-n),o=g[8+n/3];return function(t){return r(i*t)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),o=i.format,a=i.formatPrefix},function(t,e,r){"use strict";var n,i,o=0,a=0,u=0,s=0,c=0,f=0,l="object"==typeof performance&&performance.now?performance:Date,h="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function p(){return c||(h(g),c=l.now()+f)}function g(){c=0}function d(){this._call=this._time=this._next=null}function v(){c=(s=l.now())+f,o=a=0;try{!function(){p(),++o;for(var t,e=n;e;)(t=c-e._time)>=0&&e._call.call(null,t),e=e._next;--o}()}finally{o=0,function(){var t,e,r=n,o=1/0;for(;r;)r._call?(o>r._time&&(o=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:n=e);i=t,m(o)}(),c=0}}function y(){var t=l.now(),e=t-s;e>1e3&&(f-=e,s=t)}function m(t){o||(a&&(a=clearTimeout(a)),t-c>24?(t<1/0&&(a=setTimeout(v,t-l.now()-f)),u&&(u=clearInterval(u))):(u||(s=l.now(),u=setInterval(y,1e3)),o=1,h(v)))}d.prototype=function(t,e,r){var n=new d;return n.restart(t,e,r),n}.prototype={constructor:d,restart:function(t,e,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?p():+r)+(null==e?0:+e),this._next||i===this||(i?i._next=this:n=this,i=this),this._call=t,this._time=r,m()},stop:function(){this._call&&(this._call=null,this._time=1/0,m())}};e.a=function(t,e,r){var n=new d,i=e;return null==e?(n.restart(t,e,r),n):(n._restart=n.restart,n.restart=function(t,e,r){e=+e,r=null==r?p():+r,n._restart((function o(a){a+=i,n._restart(o,i+=e,r),t(a)}),e,r)},n.restart(t,e,r),n)}}])}));